---
subcategory: "Data Transmission Service (DTS)"
layout: "alicloud"
page_title: "Alicloud: alicloud_dts_migration_job"
sidebar_current: "docs-alicloud-resource-dts-migration-job"
description: |-
  Provides a Alicloud DTS Migration Job resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_dts\_migration\_job

Provides a DTS Migration Job resource.

For information about DTS Migration Job and how to use it, see [What is Migration Job](https://www.alibabacloud.com/help/en/doc-detail/208399.html).

-> **NOTE:** Available in v1.157.0+.

## Example Usage

Basic Usage

```python
import constructs as constructs
import cdktf as cdktf
# Provider bindings are generated by running cdktf get.
# See https://cdk.tf/provider-generation for more details.
import ...gen.providers.alicloud as alicloud
class MyConvertedCode(cdktf.TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        # Terraform Variables are not always the best fit for getting inputs in the context of Terraform CDK.
        #     You can read more about this at https://cdk.tf/variables
        database_name = cdktf.TerraformVariable(self, "database_name",
            default="tftestdatabase"
        )
        name = cdktf.TerraformVariable(self, "name",
            default="tftest"
        )
        password = cdktf.TerraformVariable(self, "password",
            default="Test12345"
        )
        region = cdktf.TerraformVariable(self, "region",
            default="cn-hangzhou"
        )
        alicloud_dts_migration_instance_default =
        alicloud.dts_migration_instance.DtsMigrationInstance(self, "default",
            destination_endpoint_engine_name="MySQL",
            destination_endpoint_region=region.string_value,
            instance_class="small",
            payment_type="PayAsYouGo",
            source_endpoint_engine_name="MySQL",
            source_endpoint_region=region.string_value,
            sync_architecture="oneway"
        )
        data_alicloud_db_instance_classes_default =
        alicloud.data_alicloud_db_instance_classes.DataAlicloudDbInstanceClasses(self, "default_5",
            engine="MySQL",
            engine_version="5.6"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_db_instance_classes_default.override_logical_id("default")
        data_alicloud_db_zones_default =
        alicloud.data_alicloud_db_zones.DataAlicloudDbZones(self, "default_6")
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_db_zones_default.override_logical_id("default")
        data_alicloud_vpcs_default =
        alicloud.data_alicloud_vpcs.DataAlicloudVpcs(self, "default_7",
            name_regex="default-NODELETING"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_vpcs_default.override_logical_id("default")
        data_alicloud_vswitches_default =
        alicloud.data_alicloud_vswitches.DataAlicloudVswitches(self, "default_8",
            vpc_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_vpcs_default.ids, ["0"])),
            zone_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_db_zones_default.zones, ["0", "id"]))
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_vswitches_default.override_logical_id("default")
        # In most cases loops should be handled in the programming language context and
        #     not inside of the Terraform context. If you are looping over something external, e.g. a variable or a file input
        #     you should consider using a for loop. If you are looping over something only known to Terraform, e.g. a result of a data source
        #     you need to keep this like it is.
        alicloud_db_instance_default_count = cdktf.TerraformCount.of(
            cdktf.Token.as_number("2"))
        alicloud_db_instance_default = alicloud.db_instance.DbInstance(self, "default_9",
            engine="MySQL",
            engine_version="5.6",
            instance_name=cdktf.Fn.join("",
                cdktf.Token.as_list([name.value, alicloud_db_instance_default_count.index])),
            instance_storage=cdktf.Token.as_number("10"),
            instance_type=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_db_instance_classes_default.instance_classes, ["0", "instance_class"])),
            vswitch_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_vswitches_default.ids, ["0"])),
            count=alicloud_db_instance_default_count
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_db_instance_default.override_logical_id("default")
        # In most cases loops should be handled in the programming language context and
        #     not inside of the Terraform context. If you are looping over something external, e.g. a variable or a file input
        #     you should consider using a for loop. If you are looping over something only known to Terraform, e.g. a result of a data source
        #     you need to keep this like it is.
        alicloud_rds_account_default_count = cdktf.TerraformCount.of(
            cdktf.Token.as_number("2"))
        alicloud_rds_account_default = alicloud.rds_account.RdsAccount(self, "default_10",
            account_name=cdktf.Fn.join("",
                cdktf.Token.as_list([name.value, alicloud_rds_account_default_count.index])),
            account_password=password.string_value,
            db_instance_id=cdktf.Token.as_string(
                cdktf.property_access(
                    cdktf.property_access(alicloud_db_instance_default, [alicloud_rds_account_default_count.index
                    ]), ["id"])),
            count=alicloud_rds_account_default_count
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_rds_account_default.override_logical_id("default")
        # In most cases loops should be handled in the programming language context and
        #     not inside of the Terraform context. If you are looping over something external, e.g. a variable or a file input
        #     you should consider using a for loop. If you are looping over something only known to Terraform, e.g. a result of a data source
        #     you need to keep this like it is.
        alicloud_db_database_default_count = cdktf.TerraformCount.of(
            cdktf.Token.as_number("2"))
        alicloud_db_database_default = alicloud.db_database.DbDatabase(self, "default_11",
            instance_id=cdktf.Token.as_string(
                cdktf.property_access(
                    cdktf.property_access(alicloud_db_instance_default, [alicloud_db_database_default_count.index
                    ]), ["id"])),
            name=database_name.string_value,
            count=alicloud_db_database_default_count
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_db_database_default.override_logical_id("default")
        # In most cases loops should be handled in the programming language context and
        #     not inside of the Terraform context. If you are looping over something external, e.g. a variable or a file input
        #     you should consider using a for loop. If you are looping over something only known to Terraform, e.g. a result of a data source
        #     you need to keep this like it is.
        alicloud_db_account_privilege_default_count = cdktf.TerraformCount.of(
            cdktf.Token.as_number("2"))
        alicloud_db_account_privilege_default =
        alicloud.db_account_privilege.DbAccountPrivilege(self, "default_12",
            account_name=cdktf.Token.as_string(
                cdktf.property_access(
                    cdktf.property_access(alicloud_rds_account_default, [alicloud_db_account_privilege_default_count.index
                    ]), ["name"])),
            db_names=[
                cdktf.Token.as_string(
                    cdktf.property_access(
                        cdktf.property_access(alicloud_db_database_default, [alicloud_db_account_privilege_default_count.index
                        ]), ["name"]))
            ],
            instance_id=cdktf.Token.as_string(
                cdktf.property_access(
                    cdktf.property_access(alicloud_db_instance_default, [alicloud_db_account_privilege_default_count.index
                    ]), ["id"])),
            privilege="ReadWrite",
            count=alicloud_db_account_privilege_default_count
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_db_account_privilege_default.override_logical_id("default")
        alicloud_dts_migration_job_default =
        alicloud.dts_migration_job.DtsMigrationJob(self, "default_13",
            data_initialization=True,
            data_synchronization=True,
            db_list="{\\\"tftestdatabase\\\":{\\\"name\\\":\\\"tftestdatabase\\\",\\\"all\\\":true}}",
            depends_on=[alicloud_db_account_privilege_default],
            destination_endpoint_engine_name="MySQL",
            destination_endpoint_instance_id=cdktf.Token.as_string(
                cdktf.property_access(alicloud_db_instance_default, ["1", "id"])),
            destination_endpoint_instance_type="RDS",
            destination_endpoint_password=password.string_value,
            destination_endpoint_region=region.string_value,
            destination_endpoint_user_name=cdktf.Token.as_string(
                cdktf.property_access(alicloud_rds_account_default, ["1", "name"])),
            dts_instance_id=cdktf.Token.as_string(alicloud_dts_migration_instance_default.id),
            dts_job_name=name.string_value,
            source_endpoint_engine_name="MySQL",
            source_endpoint_instance_id=cdktf.Token.as_string(
                cdktf.property_access(alicloud_db_instance_default, ["0", "id"])),
            source_endpoint_instance_type="RDS",
            source_endpoint_password=password.string_value,
            source_endpoint_region=region.string_value,
            source_endpoint_user_name=cdktf.Token.as_string(
                cdktf.property_access(alicloud_rds_account_default, ["0", "name"])),
            status="Migrating",
            structure_initialization=True
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_dts_migration_job_default.override_logical_id("default")
```

## Argument Reference

The following arguments supported:

* `dts_instance_id` - (Required, ForceNew) The Migration instance ID. The ID of `alicloud_dts_migration_instance`.
* `dts_job_name` - (Optional, Computed, ForceNew) The name of migration job.
* `instance_class` - (Optional, Computed) The instance class. Valid values: `large`, `medium`, `micro`, `small`, `xlarge`, `xxlarge`. 
* `checkpoint` - (Optional, Computed, ForceNew) Start time in Unix timestamp format.
* `data_initialization` - (Required, ForceNew) Whether to execute DTS supports schema migration.
* `structure_initialization` - (Required, ForceNew) Whether to perform a database table structure to migrate.
* `data_synchronization` - (Required, ForceNew) Whether to perform incremental data migration.
* `db_list` - (Required, ForceNew) Migration object, in the format of JSON strings. For detailed definition instructions, please refer to [the description of migration, migration or subscription objects](https://help.aliyun.com/document_detail/209545.html).
* `source_endpoint_instance_type` - (Required, ForceNew) The type of source instance. Valid values: `CEN`, `DG`, `DISTRIBUTED_DMSLOGICDB`, `ECS`, `EXPRESS`, `MONGODB`, `OTHER`, `PolarDB`, `POLARDBX20`, `RDS`.
* `source_endpoint_engine_name` - (Required, ForceNew) The type of source database. Valid values: `AS400`, `DB2`, `DMSPOLARDB`, `HBASE`, `MONGODB`, `MSSQL`, `MySQL`, `ORACLE`, `PolarDB`, `POLARDBX20`, `POLARDB_O`, `POSTGRESQL`, `TERADATA`.
* `source_endpoint_instance_id` - (Optional, ForceNew) The ID of source instance.
* `source_endpoint_region` - (Optional, ForceNew) The region of source instance.
* `source_endpoint_ip` - (Optional, ForceNew) The ip of source endpoint.
* `source_endpoint_port` - (Optional, ForceNew) The port of source endpoint.
* `source_endpoint_oracle_sid` - (Optional, ForceNew) The SID of Oracle database.
* `source_endpoint_database_name` - (Optional, ForceNew) The name of migrate the database.
* `source_endpoint_user_name` - (Optional, ForceNew) The username of database account.
* `source_endpoint_password` - (Optional) The password of database account.
* `source_endpoint_owner_id` - (Optional, ForceNew) The Alibaba Cloud account ID to which the source instance belongs.
* `source_endpoint_role` - (Optional, ForceNew) The name of the role configured for the cloud account to which the source instance belongs.
* `destination_endpoint_instance_type` - (Required, ForceNew) The type of destination instance. Valid values: `ADS`, `CEN`, `DATAHUB`, `DG`, `ECS`, `EXPRESS`, `GREENPLUM`, `MONGODB`, `OTHER`, `PolarDB`, `POLARDBX20`, `RDS`.
* `destination_endpoint_engine_name` - (Required, ForceNew) The type of destination database. Valid values: `ADS`, `ADB30`, `AS400`, `DATAHUB`, `DB2`, `GREENPLUM`, `KAFKA`, `MONGODB`, `MSSQL`, `MySQL`, `ORACLE`, `PolarDB`, `POLARDBX20`, `POLARDB_O`, `PostgreSQL`.
* `destination_endpoint_instance_id` - (Optional, ForceNew) The ID of destination instance.
* `destination_endpoint_region` - (Optional, ForceNew) The region of destination instance.
* `destination_endpoint_ip` - (Optional, ForceNew) The ip of source endpoint.
* `destination_endpoint_port` - (Optional, ForceNew) The port of source endpoint.
* `destination_endpoint_database_name` - (Optional, ForceNew) The name of migrate the database.
* `destination_endpoint_user_name` - (Optional, ForceNew) The username of database account.
* `destination_endpoint_password` - (Optional) The password of database account.
* `destination_endpoint_oracle_sid` - (Optional, ForceNew) The SID of Oracle database.
* `status` - (Optional, Computed) The status of the resource. Valid values: `Migrating`, `Suspending`. You can suspend the task by specifying `Suspending` and start the task by specifying `Migrating`.

## Notice

1. The expiration time cannot be changed after the work of the annual and monthly subscription suspended;
2. After the pay-as-you-go type job suspended, your job configuration fee will still be charged;
3. If the task suspended for more than 6 hours, the task will not start successfully.
4. Suspending the task will only stop writing to the target library, but will still continue to obtain the incremental log of the source, so that the task can be quickly resumed after the suspension is canceled. Therefore, some resources of the source library, such as bandwidth resources, will continue to be occupied during the period.
5. Charges will continue during the task suspension period. If you need to stop charging, please release the instance
6. When a DTS instance suspended for more than 7 days, the instance cannot be resumed, and the status will change from suspended to failed.

## Attributes Reference

The following attributes are exported:

* `id` - The resource ID in terraform of Migration Job.

## Import

DTS Migration Job can be imported using the id, e.g.

```shell
$ terraform import alicloud_dts_migration_job.example <id>
```
<!-- cache-key: cdktf-0.17.0-pre.15 input-44b56637e072f1734ce445bbc76f0bc6030fb40b7a0bc0dc7e2a325b97c5cfa9 -->