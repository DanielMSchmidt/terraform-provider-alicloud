---
subcategory: "Cloud Enterprise Network (CEN)"
layout: "alicloud"
page_title: "Alicloud: alicloud_cen_transit_router_vpn_attachment"
sidebar_current: "docs-alicloud-resource-cen-transit-router-vpn-attachment"
description: |-
  Provides a Alicloud Cloud Enterprise Network (CEN) Transit Router Vpn Attachment resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_cen\_transit\_router\_vpn\_attachment

Provides a Cloud Enterprise Network (CEN) Transit Router Vpn Attachment resource.

For information about Cloud Enterprise Network (CEN) Transit Router Vpn Attachment and how to use it, see [What is Transit Router Vpn Attachment](https://help.aliyun.com/document_detail/443993.html).

-> **NOTE:** Available in v1.183.0+.

## Example Usage

### Basic Example

```python
import constructs as constructs
import cdktf as cdktf
# Provider bindings are generated by running cdktf get.
# See https://cdk.tf/provider-generation for more details.
import ...gen.providers.alicloud as alicloud
class MyConvertedCode(cdktf.TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        alicloud_cen_instance_default = alicloud.cen_instance.CenInstance(self, "default",
            cen_instance_name="tf-example"
        )
        alicloud_cen_transit_router_default =
        alicloud.cen_transit_router.CenTransitRouter(self, "default_1",
            cen_id=cdktf.Token.as_string(alicloud_cen_instance_default.id),
            transit_router_description="tf-example-description",
            transit_router_name="tf-example-name"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_cen_transit_router_default.override_logical_id("default")
        alicloud_vpn_customer_gateway_default =
        alicloud.vpn_customer_gateway.VpnCustomerGateway(self, "default_2",
            asn="45014",
            description="testAccVpnConnectionDesc",
            ip_address="42.104.22.210",
            name="tf-example-name"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_vpn_customer_gateway_default.override_logical_id("default")
        alicloud_vpn_gateway_vpn_attachment_default =
        alicloud.vpn_gateway_vpn_attachment.VpnGatewayVpnAttachment(self, "default_3",
            bgp_config=VpnGatewayVpnAttachmentBgpConfig(
                enable=True,
                local_asn=45014,
                local_bgp_ip="169.254.11.1",
                tunnel_cidr="169.254.11.0/30"
            ),
            customer_gateway_id=cdktf.Token.as_string(alicloud_vpn_customer_gateway_default.id),
            effect_immediately=False,
            enable_dpd=True,
            enable_nat_traversal=True,
            health_check_config=VpnGatewayVpnAttachmentHealthCheckConfig(
                dip="10.0.0.1",
                enable=True,
                interval=10,
                policy="revoke_route",
                retry=10,
                sip="192.168.1.1"
            ),
            ike_config=VpnGatewayVpnAttachmentIkeConfig(
                ike_auth_alg="md5",
                ike_enc_alg="des",
                ike_lifetime=86400,
                ike_mode="main",
                ike_pfs="group1",
                ike_version="ikev2",
                local_id="testalice2",
                psk="tf-testvpn2",
                remote_id="testbob2"
            ),
            ipsec_config=VpnGatewayVpnAttachmentIpsecConfig(
                ipsec_auth_alg="md5",
                ipsec_enc_alg="des",
                ipsec_lifetime=86400,
                ipsec_pfs="group5"
            ),
            local_subnet="0.0.0.0/0",
            network_type="public",
            remote_subnet="0.0.0.0/0",
            vpn_attachment_name="tf-example-name"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_vpn_gateway_vpn_attachment_default.override_logical_id("default")
        data_alicloud_cen_transit_router_available_resources_default =
        alicloud.data_alicloud_cen_transit_router_available_resources.DataAlicloudCenTransitRouterAvailableResources(self, "default_4")
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_cen_transit_router_available_resources_default.override_logical_id("default")
        alicloud_cen_transit_router_vpn_attachment_default =
        alicloud.cen_transit_router_vpn_attachment.CenTransitRouterVpnAttachment(self, "default_5",
            auto_publish_route_enabled=False,
            cen_id=cdktf.Token.as_string(alicloud_cen_transit_router_default.cen_id),
            transit_router_attachment_description="tf-example-description",
            transit_router_attachment_name="tf-example-name",
            transit_router_id=cdktf.Token.as_string(alicloud_cen_transit_router_default.transit_router_id),
            vpn_id=cdktf.Token.as_string(alicloud_vpn_gateway_vpn_attachment_default.id),
            zone=[CenTransitRouterVpnAttachmentZone(
                zone_id=cdktf.Token.as_string(
                    cdktf.property_access(data_alicloud_cen_transit_router_available_resources_default.resources, ["0", "master_zones", "0"]))
            )
            ]
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_cen_transit_router_vpn_attachment_default.override_logical_id("default")
```

### Example Create a Transit Router Vpn Attachment with Transit Router Cidr

```python
import constructs as constructs
import cdktf as cdktf
# Provider bindings are generated by running cdktf get.
# See https://cdk.tf/provider-generation for more details.
import ...gen.providers.alicloud as alicloud
class MyConvertedCode(cdktf.TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        alicloud_cen_instance_default = alicloud.cen_instance.CenInstance(self, "default",
            cen_instance_name="tf-example"
        )
        alicloud_cen_transit_router_default =
        alicloud.cen_transit_router.CenTransitRouter(self, "default_1",
            cen_id=cdktf.Token.as_string(alicloud_cen_instance_default.id)
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_cen_transit_router_default.override_logical_id("default")
        alicloud_cen_transit_router_cidr_default =
        alicloud.cen_transit_router_cidr.CenTransitRouterCidr(self, "default_2",
            cidr="192.168.0.0/16",
            description="tf-example-description",
            publish_cidr_route=True,
            transit_router_cidr_name="tf-example-name",
            transit_router_id=cdktf.Token.as_string(alicloud_cen_transit_router_default.transit_router_id)
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_cen_transit_router_cidr_default.override_logical_id("default")
        alicloud_vpn_customer_gateway_default =
        alicloud.vpn_customer_gateway.VpnCustomerGateway(self, "default_3",
            asn="45014",
            ip_address="42.104.22.210"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_vpn_customer_gateway_default.override_logical_id("default")
        alicloud_vpn_gateway_vpn_attachment_default =
        alicloud.vpn_gateway_vpn_attachment.VpnGatewayVpnAttachment(self, "default_4",
            bgp_config=VpnGatewayVpnAttachmentBgpConfig(
                enable=True,
                local_asn=45014,
                local_bgp_ip="169.254.11.1",
                tunnel_cidr="169.254.11.0/30"
            ),
            customer_gateway_id=cdktf.Token.as_string(alicloud_vpn_customer_gateway_default.id),
            effect_immediately=False,
            enable_dpd=True,
            enable_nat_traversal=True,
            health_check_config=VpnGatewayVpnAttachmentHealthCheckConfig(
                dip="10.0.0.1",
                enable=True,
                interval=10,
                policy="revoke_route",
                retry=10,
                sip="192.168.1.1"
            ),
            ike_config=VpnGatewayVpnAttachmentIkeConfig(
                ike_auth_alg="md5",
                ike_enc_alg="des",
                ike_lifetime=86400,
                ike_mode="main",
                ike_pfs="group1",
                ike_version="ikev2",
                local_id="testalice2",
                psk="tf-testvpn2",
                remote_id="testbob2"
            ),
            ipsec_config=VpnGatewayVpnAttachmentIpsecConfig(
                ipsec_auth_alg="md5",
                ipsec_enc_alg="des",
                ipsec_lifetime=86400,
                ipsec_pfs="group5"
            ),
            local_subnet="0.0.0.0/0",
            network_type="public",
            remote_subnet="0.0.0.0/0",
            vpn_attachment_name="tf-example-name"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_vpn_gateway_vpn_attachment_default.override_logical_id("default")
        data_alicloud_cen_transit_router_available_resources_default =
        alicloud.data_alicloud_cen_transit_router_available_resources.DataAlicloudCenTransitRouterAvailableResources(self, "default_5")
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_cen_transit_router_available_resources_default.override_logical_id("default")
        alicloud_cen_transit_router_vpn_attachment_default =
        alicloud.cen_transit_router_vpn_attachment.CenTransitRouterVpnAttachment(self, "default_6",
            auto_publish_route_enabled=False,
            cen_id=cdktf.Token.as_string(alicloud_cen_transit_router_default.cen_id),
            transit_router_attachment_description="tf-example-description",
            transit_router_attachment_name="tf-example-name",
            transit_router_id=cdktf.Token.as_string(alicloud_cen_transit_router_cidr_default.transit_router_id),
            vpn_id=cdktf.Token.as_string(alicloud_vpn_gateway_vpn_attachment_default.id),
            zone=[CenTransitRouterVpnAttachmentZone(
                zone_id=cdktf.Token.as_string(
                    cdktf.property_access(data_alicloud_cen_transit_router_available_resources_default.resources, ["0", "master_zones", "0"]))
            )
            ]
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_cen_transit_router_vpn_attachment_default.override_logical_id("default")
```

## Argument Reference

The following arguments are supported:

* `auto_publish_route_enabled` - (Optional, Computed) Whether to allow the forwarding router instance to automatically publish routing entries to IPsec connections.
* `cen_id` - (Optional, ForceNew) The id of the cen.
* `transit_router_attachment_description` - (Optional) The description of the VPN connection. The description can contain `2` to `256` characters. The description must start with English letters, but cannot start with `http://` or `https://`.
* `transit_router_attachment_name` - (Optional) The name of the VPN connection. The name must be `2` to `128` characters in length, and can contain digits, underscores (_), and hyphens (-). It must start with a letter.
* `transit_router_id` - (Required, ForceNew) The ID of the forwarding router instance.
* `vpn_id` - (Required, ForceNew) The id of the vpn.
* `vpn_owner_id` - (Optional, Computed, ForceNew) The owner id of vpn. **NOTE:** You must set `vpn_owner_id`, if you want to connect the transit router to an IPsec-VPN connection that belongs to another Alibaba Cloud account.
* `zone` - (Required, ForceNew) The list of zone mapping. See the following `Block zone`.
* `tags` - (Optional, Available in v1.193.1+) A mapping of tags to assign to the resource.

#### zone Block

The `zone` supports the following:

* `zone_id` - (Required, ForceNew) The id of the zone.

## Attributes Reference

The following attributes are exported:

* `id` - The resource ID in terraform of Transit Router Vpn Attachment.
* `status` - The associating status of the network.

### Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts) for certain actions:

* `create` - (Defaults to 40 mins) Used when create the Transit Router Vpn Attachment.
* `update` - (Defaults to 1 mins) Used when update the Transit Router Vpn Attachment.
* `delete` - (Defaults to 30 mins) Used when delete the Transit Router Vpn Attachment.

## Import

Cloud Enterprise Network (CEN) Transit Router Vpn Attachment can be imported using the id, e.g.

```shell
$ terraform import alicloud_cen_transit_router_vpn_attachment.example <id>
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-c116c850d99b3359100bb489eb59aedd4ec1b1d7f42f420bf1d99d7eb93e3f1e -->