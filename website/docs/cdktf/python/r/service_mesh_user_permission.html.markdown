---
subcategory: "Service Mesh"
layout: "alicloud"
page_title: "Alicloud: alicloud_service_mesh_user_permission"
sidebar_current: "docs-alicloud-resource-service-mesh-user-permission"
description: |-
  Provides an Alicloud Service Mesh User Permission resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_service\_mesh\_user\_permission

Provides a Service Mesh UserPermission resource.

For information about Service Mesh User Permission and how to use it, see [What is User Permission](https://help.aliyun.com/document_detail/171622.html).

-> **NOTE:** Available in v1.174.0+.

## Example Usage

Basic Usage

```python
import constructs as constructs
import cdktf as cdktf
# Provider bindings are generated by running cdktf get.
# See https://cdk.tf/provider-generation for more details.
import ...gen.providers.alicloud as alicloud
class MyConvertedCode(cdktf.TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        # Terraform Variables are not always the best fit for getting inputs in the context of Terraform CDK.
        #     You can read more about this at https://cdk.tf/variables
        name = cdktf.TerraformVariable(self, "name",
            default="servicemesh"
        )
        alicloud_ram_user_default = alicloud.ram_user.RamUser(self, "default",
            name=name.string_value
        )
        data_alicloud_service_mesh_versions_default =
        alicloud.data_alicloud_service_mesh_versions.DataAlicloudServiceMeshVersions(self, "default_2",
            edition="Default"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_service_mesh_versions_default.override_logical_id("default")
        data_alicloud_vpcs_default =
        alicloud.data_alicloud_vpcs.DataAlicloudVpcs(self, "default_3",
            name_regex="default-NODELETING"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_vpcs_default.override_logical_id("default")
        data_alicloud_zones_default =
        alicloud.data_alicloud_zones.DataAlicloudZones(self, "default_4",
            available_resource_creation="VSwitch"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_zones_default.override_logical_id("default")
        data_alicloud_vswitches_default =
        alicloud.data_alicloud_vswitches.DataAlicloudVswitches(self, "default_5",
            vpc_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_vpcs_default.ids, ["0"])),
            zone_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_zones_default.zones, ["0", "id"]))
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_vswitches_default.override_logical_id("default")
        alicloud_service_mesh_service_mesh_default1 =
        alicloud.service_mesh_service_mesh.ServiceMeshServiceMesh(self, "default1",
            cluster_spec="standard",
            edition="Default",
            load_balancer=ServiceMeshServiceMeshLoadBalancer(
                api_server_public_eip=False,
                pilot_public_eip=False
            ),
            network=ServiceMeshServiceMeshNetwork(
                vpc_id=cdktf.Token.as_string(
                    cdktf.property_access(data_alicloud_vpcs_default.ids, ["0"])),
                vswitche_list=[
                    cdktf.Token.as_string(
                        cdktf.property_access(data_alicloud_vswitches_default.ids, ["0"]))
                ]
            ),
            service_mesh_name=name.string_value,
            version=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_service_mesh_versions_default.versions, ["0", "version"]))
        )
        alicloud.service_mesh_user_permission.ServiceMeshUserPermission(self, "example",
            permissions=[ServiceMeshUserPermissionPermissions(
                is_custom=True,
                is_ram_role=False,
                role_name="istio-admin",
                role_type="custom",
                service_mesh_id=cdktf.Token.as_string(alicloud_service_mesh_service_mesh_default1.id)
            )
            ],
            sub_account_user_id=cdktf.Token.as_string(alicloud_ram_user_default.id)
        )
```

## Argument Reference

The following arguments are supported:

* `sub_account_user_id` - (Required, ForceNew) The configuration of the Load Balancer. See the following `Block load_balancer`.
* `permissions` - (Optional) List of permissions. **Warning:** The list requires the full amount of permission information to be passed. Adding permissions means adding items to the list, and deleting them or inputting nothing means removing items. See the following `Block permissions`.


#### Block permissions

The permissions supports the following:

* `role_name` - (Optional) The permission name. Valid values: `istio-admin`, `istio-ops`, `istio-readonly`.
  - `istio-admin`:  The administrator.
  - `istio-ops`: The administrator of the service mesh resource.
  - `istio-readonly`: The read only permission.
* `service_mesh_id` - (Optional) The service mesh id.
* `role_type` - (Optional) The role type. Valid Value: `custom`.
* `is_custom` - (Optional) Whether the grant object is a RAM role.
* `is_ram_role` - (Optional) Whether the grant object is an entity.


## Attributes Reference

The following attributes are exported:

* `id` - The resource ID in terraform of User Permission. The value is same as `sub_account_user_id`.


### Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts) for certain actions:

* `create` - (Defaults to 15 mins) Used when create the Service Mesh User Permission.
* `update` - (Defaults to 15 mins) Used when update the Service Mesh User Permission.

## Import

Service Mesh User Permission can be imported using the id, e.g.

```shell
$ terraform import alicloud_service_mesh_user_permission.example <id>
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-e162ec0df66c66659455b004117c9ac95647fd9393d5879402152ff47405fa07 -->