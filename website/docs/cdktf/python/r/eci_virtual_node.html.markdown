---
subcategory: "Elastic Container Instance (ECI)"
layout: "alicloud"
page_title: "Alicloud: alicloud_eci_virtual_node"
sidebar_current: "docs-alicloud-resource-eci-virtual-node"
description: |- 
  Provides a Alicloud ECI Virtual Node resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_eci\_virtual\_node

Provides a ECI Virtual Node resource.

For information about ECI Virtual Node and how to use it, see [What is Virtual Node](https://www.alibabacloud.com/help/en/doc-detail/89129.html).

-> **NOTE:** Available in v1.145.0+.

## Example Usage

Basic Usage

```python
import constructs as constructs
import cdktf as cdktf
# Provider bindings are generated by running cdktf get.
# See https://cdk.tf/provider-generation for more details.
import ...gen.providers.alicloud as alicloud
class MyConvertedCode(cdktf.TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        # Terraform Variables are not always the best fit for getting inputs in the context of Terraform CDK.
        #     You can read more about this at https://cdk.tf/variables
        name = cdktf.TerraformVariable(self, "name",
            default="tf-testaccvirtualnode"
        )
        alicloud_eip_address_default = alicloud.eip_address.EipAddress(self, "default",
            address_name=name.string_value
        )
        data_alicloud_eci_zones_default =
        alicloud.data_alicloud_eci_zones.DataAlicloudEciZones(self, "default_2")
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_eci_zones_default.override_logical_id("default")
        data_alicloud_resource_manager_resource_groups_default =
        alicloud.data_alicloud_resource_manager_resource_groups.DataAlicloudResourceManagerResourceGroups(self, "default_3")
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_resource_manager_resource_groups_default.override_logical_id("default")
        data_alicloud_vpcs_default =
        alicloud.data_alicloud_vpcs.DataAlicloudVpcs(self, "default_4",
            name_regex="default-NODELETING"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_vpcs_default.override_logical_id("default")
        data_alicloud_vswitches_default =
        alicloud.data_alicloud_vswitches.DataAlicloudVswitches(self, "default_5",
            vpc_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_vpcs_default.ids, ["0"])),
            zone_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_eci_zones_default.zones, ["0", "zone_ids", "1"
                ]))
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        data_alicloud_vswitches_default.override_logical_id("default")
        alicloud_security_group_default =
        alicloud.security_group.SecurityGroup(self, "default_6",
            name=name.string_value,
            vpc_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_vpcs_default.ids, ["0"]))
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_security_group_default.override_logical_id("default")
        alicloud_eci_virtual_node_default =
        alicloud.eci_virtual_node.EciVirtualNode(self, "default_7",
            eip_instance_id=cdktf.Token.as_string(alicloud_eip_address_default.id),
            enable_public_network=False,
            kube_config="kube config",
            resource_group_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_resource_manager_resource_groups_default.groups, ["0", "id"])),
            security_group_id=cdktf.Token.as_string(alicloud_security_group_default.id),
            tags={
                "Created": "TF"
            },
            taints=[EciVirtualNodeTaints(
                effect="NoSchedule",
                key="Tf1",
                value="Test1"
            )
            ],
            virtual_node_name=name.string_value,
            vswitch_id=cdktf.Token.as_string(
                cdktf.property_access(data_alicloud_vswitches_default.ids, ["1"]))
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_eci_virtual_node_default.override_logical_id("default")
```

## Argument Reference

The following arguments are supported:

* `eip_instance_id` - (Optional, Computed,ForceNew) The Id of eip.
* `enable_public_network` - (Optional, ForceNew) Whether to enable public network. **NOTE:** If `eip_instance_id` is not configured and `enable_public_network` is true, the system will create an elastic public network IP.
* `kube_config` - (Optional) The kube config for the k8s cluster. It needs to be connected after Base64 encoding.
* `resource_group_id` - (Optional, ForceNew) The resource group ID. 
* `security_group_id` - (Required, ForceNew) The security group ID.
* `tags` - (Optional, ForceNew) A mapping of tags to assign to the resource.
* `taints` - (Optional) The taint. See the following `Block taints`.
* `virtual_node_name` - (Optional, ForceNew) The name of the virtual node. The length of the name is limited to `2` to `128` characters. It can contain uppercase and lowercase letters, Chinese characters, numbers, half-width colon (:), underscores (_), or hyphens (-), and must start with letters.
* `vswitch_id` - (Required, ForceNew) The vswitch id.
* `zone_id` - (Optional, Computed, ForceNew) The Zone.

#### Block taints

The taints supports the following:

* `effect` - (Optional) The effect of the taint. Valid values: `NoSchedule`, `NoExecute` and `PreferNoSchedule`.
* `key` - (Optional) The key of the taint.
* `value` - (Optional) The value of the taint.

## Attributes Reference

The following attributes are exported:

* `id` - The resource ID in terraform of Virtual Node.
* `status` - The Status of the virtual node. Valid values: `Cleaned`, `Failed`, `Pending`, `Ready`.

### Timeouts

The `timeouts` block allows you to
specify [timeouts](https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts) for certain actions:

* `create` - (Defaults to 5 mins) Used when create the Gateway File Share.

## Import

ECI Virtual Node can be imported using the id, e.g.

```shell
$ terraform import alicloud_eci_virtual_node.example <id>
```
<!-- cache-key: cdktf-0.17.0-pre.15 input-4e5b5e02060ef2ed9bdbfca9227375e4f3a4b8f95f7d9974f93961c129a20fc3 -->