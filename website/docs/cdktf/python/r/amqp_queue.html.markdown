---
subcategory: "RabbitMQ (AMQP)"
layout: "alicloud"
page_title: "Alicloud: alicloud_amqp_queue"
sidebar_current: "docs-alicloud-resource-amqp-queue"
description: |-
  Provides a Alicloud RabbitMQ (AMQP) Queue resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_amqp\_queue

Provides a RabbitMQ (AMQP) Queue resource.

For information about RabbitMQ (AMQP) Queue and how to use it, see [What is Queue](https://www.alibabacloud.com/help/doc-detail/101631.htm).

-> **NOTE:** Available in v1.127.0+.

## Example Usage

Basic Usage

```python
import constructs as constructs
import cdktf as cdktf
# Provider bindings are generated by running cdktf get.
# See https://cdk.tf/provider-generation for more details.
import ...gen.providers.alicloud as alicloud
class MyConvertedCode(cdktf.TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        alicloud_amqp_virtual_host_example =
        alicloud.amqp_virtual_host.AmqpVirtualHost(self, "example",
            instance_id="amqp-abc12345",
            virtual_host_name="my-VirtualHost"
        )
        alicloud_amqp_queue_example = alicloud.amqp_queue.AmqpQueue(self, "example_1",
            instance_id=cdktf.Token.as_string(alicloud_amqp_virtual_host_example.instance_id),
            queue_name="my-Queue",
            virtual_host_name=cdktf.Token.as_string(alicloud_amqp_virtual_host_example.virtual_host_name)
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        alicloud_amqp_queue_example.override_logical_id("example")
```

## Argument Reference

The following arguments are supported:

* `auto_delete_state` - (Optional, ForceNew) Specifies whether the Auto Delete attribute is configured. Valid values:
  * true: The Auto Delete attribute is configured. The queue is automatically deleted after the last subscription from consumers to this queue is canceled. 
  * false: The Auto Delete attribute is not configured.
  
* `auto_expire_state` - (Optional) The validity period after which the queue is automatically deleted.
  If the queue is not accessed within a specified period of time, it is automatically deleted.
* `dead_letter_exchange` - (Optional) The dead-letter exchange. A dead-letter exchange is used to receive rejected messages. 
  If a consumer rejects a message that cannot be retried, this message is routed to a specified dead-letter exchange.
  Then, the dead-letter exchange routes the message to the queue that is bound to the dead-letter exchange.
* `dead_letter_routing_key` - (Optional) The dead letter routing key.
* `exclusive_state` - (Optional, ForceNew) Specifies whether the queue is an exclusive queue. Valid values:
  * true: The queue is an exclusive queue. It can be used only for the connection that declares the exclusive queue. After the connection is closed, the exclusive queue is automatically deleted.
  * false: The queue is not an exclusive queue.
  
* `instance_id` - (Required, ForceNew) The ID of the instance.
* `max_length` - (Optional) The maximum number of messages that can be stored in the queue.
  If this threshold is exceeded, the earliest messages that are routed to the queue are discarded.
* `maximum_priority` - (Optional) The highest priority supported by the queue. This parameter is set to a positive integer.
  Valid values: 0 to 255. Recommended values: 1 to 10
* `message_ttl` - (Optional) The message TTL of the queue.
  If the retention period of a message in the queue exceeds the message TTL of the queue, the message expires.
  Message TTL must be set to a non-negative integer, in milliseconds.
  For example, if the message TTL of the queue is 1000, messages survive for at most 1 second in the queue.
* `queue_name` - (Required, ForceNew) The name of the queue.
  The queue name must be 1 to 255 characters in length, and can contain only letters, digits, hyphens (-), underscores (_), periods (.), and at signs (@).
* `virtual_host_name` - (Required, ForceNew) The name of the virtual host.

## Attributes Reference

The following attributes are exported:

* `id` - The resource ID of Queue. The value formats as `<instance_id>:<virtual_host_name>:<queue_name>`.

## Import

RabbitMQ (AMQP) Queue can be imported using the id, e.g.

```shell
$ terraform import alicloud_amqp_queue.example <instance_id>:<virtual_host_name>:<queue_name>
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-2846ab1454abc3ebb04a2b08c595536cc6aed207d3db95d2180a8082b1ac9e8f -->