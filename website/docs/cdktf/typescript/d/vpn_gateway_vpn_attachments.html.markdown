---
subcategory: "VPN Gateway"
layout: "alicloud"
page_title: "Alicloud: alicloud_vpn_gateway_vpn_attachments"
sidebar_current: "docs-alicloud-datasource-vpn-gateway-vpn-attachments"
description: |-
  Provides a list of Vpn Gateway Vpn Attachments to the user.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_vpn\_gateway\_vpn\_attachments

This data source provides the Vpn Gateway Vpn Attachments of the current Alibaba Cloud user.

-> **NOTE:** Available in v1.181.0+.

## Example Usage

Basic Usage

```terraform
data "alicloud_vpn_gateway_vpn_attachments" "ids" {}
output "vpn_gateway_vpn_attachment_id_1" {
  value = data.alicloud_vpn_gateway_vpn_attachments.ids.attachments.0.id
}

data "alicloud_vpn_gateway_vpn_attachments" "nameRegex" {
  name_regex = "^my-VpnAttachment"
}
output "vpn_gateway_vpn_attachment_id_2" {
  value = data.alicloud_vpn_gateway_vpn_attachments.nameRegex.attachments.0.id
}
output "local_id" {
  value = data.alicloud_vpn_gateway_vpn_attachments.vpn_attachments.attachments.0.ike_config.0.local_id
}
output "internet_ip" {
  value = data.alicloud_vpn_gateway_vpn_attachments.vpn_attachments.attachments.0.internet_ip
}
```

## Argument Reference

The following arguments are supported:

* `ids` - (Optional, ForceNew, Computed)  A list of Vpn Attachment IDs.
* `nameRegex` - (Optional, ForceNew) A regex string to filter results by Vpn Attachment name.
* `outputFile` - (Optional) File name where to save data source results (after running `terraform plan`).
* `status` - (Optional, ForceNew) The status of the resource. Valid values: `init`, `active`, `attaching`, `attached`, `detaching`, `financialLocked`, `provisioning`, `updating`, `upgrading`, `deleted`.
* `vpnGatewayId` - (Deprecated) The parameter 'vpn_gateway_id' has been deprecated from 1.194.0.

## Argument Reference

The following attributes are exported in addition to the arguments listed above:

* `names` - A list of Vpn Attachment names.
* `attachments` - A list of Vpn Gateway Vpn Attachments. Each element contains the following attributes:
	* `bgpConfig` - The configurations of the BGP routing protocol.
		* `localAsn` - The ASN on the Alibaba Cloud side.
		* `localBgpIp` - The BGP IP address on the Alibaba Cloud side.
		* `status` - The negotiation status of the BGP routing protocol.
		* `tunnelCidr` - The CIDR block of the IPsec tunnel. The CIDR block belongs to 169.254.0.0/16. The mask of the CIDR block is 30 bits in length.
	* `createTime` - The creation time of the resource.
	* `customerGatewayId` - The ID of the customer gateway.
	* `effectImmediately` - Indicates whether IPsec-VPN negotiations are initiated immediately. Valid values.
	* `healthCheckConfig` - The health check configurations.
		* `dip` - The destination IP address.
		* `status` - The status of the health check.
		* `interval` - The interval between two consecutive health checks. Unit: seconds.
		* `retry` - The maximum number of health check retries.
		* `sip` - The source IP address.
		* `enable` - Specifies whether to enable health checks.
		* `policy` - (Optional) Whether to revoke the published route when the health check fails.
	* `id` - The ID of the Vpn Attachment.
	* `ikeConfig` - Configuration negotiated in the second stage.
		* `remoteId` - The identifier of the peer. The default value is the IP address of the VPN gateway. The value can be a fully qualified domain name (FQDN) or an IP address.
		* `ikeLifetime` - The IKE lifetime. Unit: seconds.
		* `ikePfs` - The DH group.
		* `localId` - The local ID, which supports the FQDN and IP formats. The current VPN gateway IP address is selected by default. The alicloud_cen_transit_router_vpn_attachment resource will not have a value until after it is created.
		* `psk` - The pre-shared key.
		* `ikeAuthAlg` - The IKE authentication algorithm.
		* `ikeEncAlg` - The IKE encryption algorithm.
		* `ikeMode` - The IKE negotiation mode.
		* `ikeVersion` - The version of the IKE protocol.
	* `ipsecConfig` - The configuration of Phase 2 negotiations.
		* `ipsecEncAlg` - The IPsec encryption algorithm.
		* `ipsecLifetime` - The IPsec lifetime. Unit: seconds.
		* `ipsecPfs` - The DH group.
		* `ipsecAuthAlg` - The IPsec authentication algorithm.
	* `localSubnet` - The CIDR block of the virtual private cloud (VPC).
	* `networkType` - The network type.
	* `remoteSubnet` - The CIDR block of the on-premises data center.
	* `status` - The status of the resource.
	* `vpnAttachmentName` - The name of the IPsec-VPN connection.
	* `vpnConnectionId` - The first ID of the resource.
	* `connectionStatus` - The status of the IPsec-VPN connection. 
  * `enableNatTraversal` - Allow NAT penetration.
  * `enableDpd` - Whether to enable the DPD (peer survival detection) function.
  * `internetIp` - The internet ip of the resource. The alicloud_cen_transit_router_vpn_attachment resource will not have a value until after it is created.
<!-- cache-key: cdktf-0.17.0-pre.15 input-097760ec55c98d687ddfc48f6deaca3197eef3a9a07d6c5ba9b497e44c83f6d6 -->