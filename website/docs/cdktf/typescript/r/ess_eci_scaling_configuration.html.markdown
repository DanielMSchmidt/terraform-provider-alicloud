---
subcategory: "Auto Scaling"
layout: "alicloud"
page_title: "Alicloud: alicloud_ess_eci_scaling_configuration"
sidebar_current: "docs-alicloud-resource-ess-eci-scaling-configuration"
description: |-
  Provides a ESS eci scaling configuration resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_ess\_eci\_scaling\_configuration

Provides a ESS eci scaling configuration resource.

-> **NOTE:** Resource `alicloudEssAlbServerGroupAttachment` is available in 1.164.0+.

## Example Usage

Basic Usage

```terraform
variable "name" {
  default = "essscalingconfiguration"
}

resource "alicloud_vpc" "default" {
  name       = var.name
  cidr_block = "172.16.0.0/16"
}

resource "alicloud_vswitch" "default" {
  vpc_id       = alicloud_vpc.default.id
  cidr_block   = "172.16.0.0/24"
  zone_id      = data.alicloud_zones.default.zones[0].id
  vswitch_name = var.name
}

resource "alicloud_security_group" "default" {
  name   = var.name
  vpc_id = alicloud_vpc.default.id
}

resource "alicloud_ess_scaling_group" "default" {
  min_size           = 0
  max_size           = 1
  scaling_group_name = var.name
  removal_policies   = ["OldestInstance", "NewestInstance"]
  vswitch_ids        = [alicloud_vswitch.default.id]
  group_type         = "ECI"
}

resource "alicloud_ess_eci_scaling_configuration" "default" {
  scaling_group_id     = alicloud_ess_scaling_group.default.id
  cpu                  = 2
  memory               = 4
  security_group_id    = alicloud_security_group.default.id
  force_delete         = true
  active               = true
  container_group_name = "container-group-1649839595174"
  containers {
    name  = "container-1"
    image = "registry-vpc.cn-hangzhou.aliyuncs.com/eci_open/alpine:3.5"
  }
}
```

## Argument Reference

The following arguments are supported:

* `active` - (Optional) Whether active current eci scaling configuration in the specified scaling group. Note that only
  one configuration can be active. Default to `false`.
* `forceDelete` - (Optional) The eci scaling configuration will be deleted forcibly with deleting its scaling group.
  Default to false.
* `scalingGroupId` - (Required, ForceNew) ID of the scaling group of a eci scaling configuration.
* `scalingConfigurationName` - (Optional) Name shown for the scheduled task. which must contain 2-64 characters (
  English or Chinese), starting with numbers, English letters or Chinese characters, and can contain number,
  underscores `_`, hypens `-`, and decimal point `.`. If this parameter value is not specified, the default value is
  EciScalingConfigurationId.
* `description` - (Optional) The description of data disk N. Valid values of N: 1 to 16. The description must be 2 to
  256 characters in length and cannot start with http:// or https://.
* `securityGroupId` - (Optional) ID of the security group used to create new instance. It is conflict
  with `securityGroupIds`.
* `containerGroupName` - (Optional) The name of the container group.
* `restartPolicy` - (Optional) The restart policy of the container group. Default to `always`.
* `cpu` - (Optional) The amount of CPU resources allocated to the container group.
* `memory` - (Optional) The amount of memory resources allocated to the container group.
* `resourceGroupId` - (Optional) ID of resource group.
* `dnsPolicy` - (Optional) dns policy of contain group.
* `enableSls` - (Optional) Enable sls log service.
* `ramRoleName` - (Optional) The RAM role that the container group assumes. ECI and ECS share the same RAM role.
* `spotStrategy` - (Optional) The spot strategy for a Pay-As-You-Go instance. Valid values: `noSpot`, `spotAsPriceGo`
  , `spotWithPriceLimit`.
* `spotPriceLimit` - (Optional) The maximum price hourly for spot instance.
* `autoCreateEip` - (Optional) Whether create eip automatically.
* `eipBandwidth` - (Optional) Eip bandwidth.
* `ingressBandwidth` - (Optional) Ingress bandwidth.
* `egressBandwidth` - (Optional) egress bandwidth.
* `hostName` - (Optional) Hostname of an ECI instance.
* `tags` - (Optional) A mapping of tags to assign to the resource. It will be applied for ECI instances finally.
    - Key: It can be up to 64 characters in length. It cannot begin with "aliyun", "http://", or "https://". It cannot
      be a null string.
    - Value: It can be up to 128 characters in length. It cannot begin with "aliyun", "http://", or "https://" It can be
      a null string.
* `imageRegistryCredentials` - (Optional)  The image registry credential. The details see
  Block `imageRegistryCredential`.See [Block image_registry_credential](#block-image_registry_credential) below for
  details.
* `containers` - (Optional) The list of containers.See [Block container](#block-container) below for details.
* `initContainers` - (Optional) The list of initContainers.See [Block init_container](#block-init_container) below for
  details.
* `volumes` - (Optional) The list of volumes.See [Block volume](#block-volume) below for details.
* `hostAliases` - (Optional) HostAliases.See [Block host_alias](#block-host_alias) below for details.
* `acrRegistryInfos` - (Optional, Available in 1.193.1+) Information about the Container Registry Enterprise Edition instance. The details see
  Block `acrRegistryInfo`.See [Block acr_registry_info](#block-acr_registry_info) below for
  details.

#### Block volume

The volume supports the following:

* `name` - (Optional) The name of the volume.
* `type` - (Optional) The type of the volume.
* `configFileVolumeConfigFileToPaths` - (Optional) ConfigFileVolumeConfigFileToPaths.
  See [Block_config_file_volume_config_file_to_path](#block-config_file_volume_config_file_to_path) below for details.
* `diskVolumeDiskId` - (Optional) The ID of DiskVolume.
* `diskVolumeFsType` - (Optional) The system type of DiskVolume.
* `flexVolumeDriver` - (Optional) The name of the FlexVolume driver.
* `flexVolumeFsType` - (Optional) The type of the mounted file system. The default value is determined by the script
  of FlexVolume.
* `flexVolumeOptions` - (Optional) The list of FlexVolume objects. Each object is a key-value pair contained in a JSON
  string.
* `nfsVolumePath` - (Optional) The path to the NFS volume.
* `nfsVolumeReadOnly` - (Optional) The nfs volume read only. Default to `false`.
* `nfsVolumeServer` - (Optional) The address of the NFS server.

-> **NOTE:** Every volume mounted must have a name and type attributes.

#### Block config_file_volume_config_file_to_path

The config_file_volume_config_file_to_path supports the following:

* `content` - (Optional) The content of the configuration file. Maximum size: 32 KB.
* `path` - (Optional) The relative file path.

#### Block init_container

The init_container supports the following:

* `args` - (Optional) The arguments passed to the commands.
* `commands` - (Optional) The commands run by the init container.
* `cpu` - (Optional) The amount of CPU resources allocated to the container.
* `environmentVars` - (Optional) The structure of environmentVars.
  See [Block_environment_var_in_init_container](#block-environment_var_in_init_containers) below for details.
* `gpu` - (Optional) The number GPUs.
* `image` - (Optional) The image of the container.
* `imagePullPolicy` - (Optional) The restart policy of the image.
* `memory` - (Optional) The amount of memory resources allocated to the container.
* `name` - (Optional) The name of the init container.
* `ports` - (Optional) The structure of port. See [Block_port_in_init_container](#block-port_in_init_container) below
  for details.
* `volumeMounts` - (Optional) The structure of volumeMounts.
  See [Block_volume_mount_in_init_container](#block-volume_mount_in_init_container) below for details.
* `workingDir` - (Optional) The working directory of the container.

#### Block environment_var_in_init_container

The environment_var supports the following:

* `key` - (Optional) The name of the variable. The name can be 1 to 128 characters in length and can contain letters,
  digits, and underscores (_). It cannot start with a digit.
* `value` - (Optional) The value of the variable. The value can be 0 to 256 characters in length.

#### Block port_in_init_container

The port supports the following:

* `port` - (Optional, ForceNew) The port number. Valid values: 1 to 65535.
* `protocol` - (Optional, ForceNew) Valid values: TCP and UDP.

#### Block volume_mount_in_init_container

The volume_mount supports the following:

* `mountPath` - (Optional) The directory of the mounted volume. Data under this directory will be overwritten by the
  data in the volume.
* `name` - (Optional) The name of the mounted volume.
* `readOnly` - (Optional) Default to `false`.

#### Block host_alias

The host_alias supports the following:

* `hostnames` - (Optional) Adds a host name.
* `ip` - (Optional) Adds an IP address.

#### Block image_registry_credential

The image_registry_credential supports the following:

* `password` - (Optional) The password used to log on to the image repository. It is required
  when `imageRegistryCredential` is configured.
* `server` - (Optional) The address of the image repository. It is required when `imageRegistryCredential` is
  configured.
* `userName` - (Optional) The username used to log on to the image repository. It is required
  when `imageRegistryCredential` is configured.

#### Block container

The container supports the following:

* `args` - (Optional) The arguments passed to the commands.
* `commands` - (Optional) The commands run by the init container.
* `cpu` - (Optional) The amount of CPU resources allocated to the container.
* `environmentVars` - (Optional) The structure of environmentVars.
  See [Block_environment_var_in_container](#block-environment_var_in_container) below for details.
* `gpu` - (Optional) The number GPUs.
* `image` - (Optional) The image of the container.
* `imagePullPolicy` - (Optional) The restart policy of the image.
* `memory` - (Optional) The amount of memory resources allocated to the container.
* `name` - (Optional) The name of the init container.
* `ports` - (Optional) The structure of port. See [Block_port_in_container](#block-port_in_container) below for details.
* `volumeMounts` - (Optional) The structure of volumeMounts.
  See [Block_volume_mount_in_container](#block-volume_mount_in_container) below for details.
* `workingDir` - (Optional) The working directory of the container.
* `livenessProbeExecCommands` - (Optional, Available in 1.193.1+) Commands that you want to run in containers when you use the CLI to perform liveness probes.
* `livenessProbePeriodSeconds` - (Optional, Available in 1.193.1+) The interval at which the liveness probe is performed. Unit: seconds. Default value: 10. Minimum value: 1.
* `livenessProbeHttpGetPath` - (Optional, Available in 1.193.1+) The path to which HTTP GET requests are sent when you use HTTP requests to perform liveness probes.
* `livenessProbeFailureThreshold` - (Optional, Available in 1.193.1+) The minimum number of consecutive failures for the liveness probe to be considered failed after having been successful. Default value: 3.
* `livenessProbeInitialDelaySeconds` - (Optional, Available in 1.193.1+) The number of seconds after container has started before liveness probes are initiated.
* `livenessProbeHttpGetPort` - (Optional, Available in 1.193.1+) The port to which HTTP GET requests are sent when you use HTTP requests to perform liveness probes.
* `livenessProbeHttpGetScheme` - (Optional, Available in 1.193.1+) The protocol type of HTTP GET requests when you use HTTP requests for liveness probes.Valid values:HTTP and HTTPS.
* `livenessProbeTcpSocketPort` - (Optional, Available in 1.193.1+) The port detected by TCP sockets when you use TCP sockets to perform liveness probes.
* `livenessProbeSuccessThreshold` - (Optional, Available in 1.193.1+) The minimum number of consecutive successes for the liveness probe to be considered successful after having failed. Default value: 1. Set the value to 1.
* `livenessProbeTimeoutSeconds` - (Optional, Available in 1.193.1+) The timeout period for the liveness probe. Unit: seconds. Default value: 1. Minimum value: 1.
* `readinessProbeExecCommands` - (Optional, Available in 1.193.1+) Commands that you want to run in containers when you use the CLI to perform readiness probes.
* `readinessProbePeriodSeconds` - (Optional, Available in 1.193.1+) The interval at which the readiness probe is performed. Unit: seconds. Default value: 10. Minimum value: 1.
* `readinessProbeHttpGetPath` - (Optional, Available in 1.193.1+) The path to which HTTP GET requests are sent when you use HTTP requests to perform readiness probes.
* `readinessProbeFailureThreshold` - (Optional, Available in 1.193.1+) The minimum number of consecutive failures for the readiness probe to be considered failed after having been successful. Default value: 3.
* `readinessProbeInitialDelaySeconds` - (Optional, Available in 1.193.1+) The number of seconds after container N has started before readiness probes are initiated.
* `readinessProbeHttpGetPort` - (Optional, Available in 1.193.1+) The port to which HTTP GET requests are sent when you use HTTP requests to perform readiness probes.
* `readinessProbeHttpGetScheme` - (Optional, Available in 1.193.1+) The protocol type of HTTP GET requests when you use HTTP requests for readiness probes. Valid values: HTTP and HTTPS.
* `readinessProbeTcpSocketPort` - (Optional, Available in 1.193.1+) The port detected by Transmission Control Protocol (TCP) sockets when you use TCP sockets to perform readiness probes.
* `readinessProbeSuccessThreshold` - (Optional, Available in 1.193.1+) The minimum number of consecutive successes for the readiness probe to be considered successful after having failed. Default value: 1. Set the value to 1.
* `readinessProbeTimeoutSeconds` - (Optional, Available in 1.193.1+) The timeout period for the readiness probe. Unit: seconds. Default value: 1. Minimum value: 1.

#### Block environment_var_in_container

The environment_var supports the following:

* `key` - (Optional) The name of the variable. The name can be 1 to 128 characters in length and can contain letters,
  digits, and underscores (_). It cannot start with a digit.
* `value` - (Optional) The value of the variable. The value can be 0 to 256 characters in length.

#### Block port_in_container

The port supports the following:

* `port` - (Optional, ForceNew) The port number. Valid values: 1 to 65535.
* `protocol` - (Optional, ForceNew) Valid values: TCP and UDP.

#### Block volume_mount_in_container

The volume_mount supports the following:

* `mountPath` - (Optional) The directory of the mounted volume. Data under this directory will be overwritten by the
  data in the volume.
* `name` - (Optional) The name of the mounted volume.
* `readOnly` - (Optional) Default to `false`.

#### Block acr_registry_info

The acr_registry_info supports the following:

* `domains` - (Optional) Endpoint of Container Registry Enterprise Edition instance. By default, all endpoints of the Container Registry Enterprise Edition instance are displayed. It is required
  when `acrRegistryInfo` is configured.
* `instanceName` - (Optional) The name of Container Registry Enterprise Edition instance. It is required when `acrRegistryInfo` is
  configured.
* `instanceId` - (Optional) The ID of Container Registry Enterprise Edition instance. It is required
  when `acrRegistryInfo` is configured.
* `regionId` - (Optional) The region ID of Container Registry Enterprise Edition instance. It is required
  when `acrRegistryInfo` is configured.

## Attributes Reference

The following attributes are exported:

* `id` - The eci scaling configuration ID.

## Import

ESS eci scaling configuration can be imported using the id, e.g.

```shell
$ terraform import alicloud_ess_eci_scaling_configuration.example asc-abc123456
```


<!-- cache-key: cdktf-0.17.0-pre.15 input-026a7ac11a3ab40a3a553027340f327d0bba528fadb145fe294417759dd8d736 -->