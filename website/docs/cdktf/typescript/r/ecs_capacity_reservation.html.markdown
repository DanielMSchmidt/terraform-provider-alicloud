---
subcategory: "ECS"
layout: "alicloud"
page_title: "Alicloud: alicloud_ecs_capacity_reservation"
sidebar_current: "docs-alicloud-resource-ecs-capacity-reservation"
description: |-
  Provides a Alicloud Ecs Capacity Reservation resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud_ecs_capacity_reservation

Provides a Ecs Capacity Reservation resource.

For information about Ecs Capacity Reservation and how to use it, see [What is Capacity Reservation](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/createcapacityreservation).

-> **NOTE:** Available in v1.195.0+.

## Example Usage

Basic Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    const dataAlicloudInstanceTypesDefault =
      new alicloud.dataAlicloudInstanceTypes.DataAlicloudInstanceTypes(
        this,
        "default",
        {
          instanceTypeFamily: "ecs.g5",
        }
      );
    const dataAlicloudResourceManagerResourceGroupsDefault =
      new alicloud.dataAlicloudResourceManagerResourceGroups.DataAlicloudResourceManagerResourceGroups(
        this,
        "default_1",
        {
          status: "OK",
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudResourceManagerResourceGroupsDefault.overrideLogicalId(
      "default"
    );
    const dataAlicloudZonesDefault =
      new alicloud.dataAlicloudZones.DataAlicloudZones(this, "default_2", {
        availableInstanceType: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudInstanceTypesDefault.ids, ["0"])
        ),
        availableResourceCreation: "Instance",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudZonesDefault.overrideLogicalId("default");
    const alicloudEcsCapacityReservationDefault =
      new alicloud.ecsCapacityReservation.EcsCapacityReservation(
        this,
        "default_3",
        {
          capacityReservationName: "terraform-example",
          description: "terraform-example",
          endTimeType: "Unlimited",
          instanceAmount: 1,
          instanceType: cdktf.Token.asString(
            cdktf.propertyAccess(dataAlicloudInstanceTypesDefault.ids, ["0"])
          ),
          matchCriteria: "Open",
          platform: "linux",
          resourceGroupId: cdktf.Token.asString(
            cdktf.propertyAccess(
              dataAlicloudResourceManagerResourceGroupsDefault.ids,
              ["0"]
            )
          ),
          tags: {
            Created: "terraform-example",
          },
          zoneIds: [
            cdktf.Token.asString(
              cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
            ),
          ],
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudEcsCapacityReservationDefault.overrideLogicalId("default");
  }
}

```

## Argument Reference

The following arguments are supported:
* `capacityReservationName` - (Optional) Capacity reservation service name.
* `description` - (Optional) description of the capacity reservation instance.
* `endTime` - (Optional) end time of the capacity reservation. the capacity reservation will be  released at the end time automatically if set. otherwise it will last until manually released
* `endTimeType` - (Optional) Release mode of capacity reservation service. Value range:Limited: release at specified time. The EndTime parameter must be specified at the same time.Unlimited: manual release. No time limit.
* `instanceAmount` - (Required) The total number of instances that need to be reserved within the capacity reservation.
* `instanceType` - (Required,ForceNew) Instance type. Currently, you can only set the capacity reservation service for one instance type. 
* `matchCriteria` - (ForceNew,Optional) The type of private resource pool generated after the capacity reservation service takes effect. Value range:Open: Open mode.Target: dedicated mode.Default value: Open
* `platform` - (Optional) platform of the capacity reservation, value range `windows`, `linux`.
* `resourceGroupId` - (ForceNew,Optional) The resource group id.
* `tags` - (Optional) The tag of the resource.
* `dryRun` - (Optional) Specifies whether to pre-check the API request. Valid values: `true` and `false`.
* `zoneIds` - (ForceNew,Required) The ID of the zone in the region to which the capacity reservation service belongs. Currently, it is only supported to create a capacity reservation service in one zone.

## Attributes Reference

The following attributes are exported:
* `id` - The `key` of the resource supplied above.
* `paymentType` - The payment type of the resource
* `startTimeType` - The capacity is scheduled to take effect. Possible values:-Now: Effective immediately.-Later: the specified time takes effect.
* `status` - The status of the capacity reservation.
* `timeSlot` - This parameter is under test and is not yet open for use.
* `startTime` - time of the capacity reservation which become active.

### Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts) for certain actions:
* `create` - (Defaults to 5 mins) Used when create the Capacity Reservation.
* `delete` - (Defaults to 5 mins) Used when delete the Capacity Reservation.
* `update` - (Defaults to 5 mins) Used when update the Capacity Reservation.

## Import

Ecs Capacity Reservation can be imported using the id, e.g.

```shell
$terraform import alicloud_ecs_capacity_reservation.example <id>
```
<!-- cache-key: cdktf-0.17.0-pre.15 input-ed34bca3a19770cd8c8e7b841a6195f82eb3ddd9f22a829fdb01570968fdce8a -->