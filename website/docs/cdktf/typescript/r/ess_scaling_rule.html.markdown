---
subcategory: "Auto Scaling"
layout: "alicloud"
page_title: "Alicloud: alicloud_ess_scaling_rule"
sidebar_current: "docs-alicloud-resource-ess-scaling-rule"
description: |-
  Provides a ESS scaling rule resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_ess\_scaling\_rule

Provides a ESS scaling rule resource.

## Example Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    /*Terraform Variables are not always the best fit for getting inputs in the context of Terraform CDK.
    You can read more about this at https://cdk.tf/variables*/
    const name = new cdktf.TerraformVariable(this, "name", {
      default: "essscalingruleconfig",
    });
    const alicloudVpcDefault = new alicloud.vpc.Vpc(this, "default", {
      cidrBlock: "172.16.0.0/16",
      name: name.stringValue,
    });
    const dataAlicloudImagesDefault =
      new alicloud.dataAlicloudImages.DataAlicloudImages(this, "default_2", {
        mostRecent: true,
        nameRegex: "^ubuntu_18.*64",
        owners: "system",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudImagesDefault.overrideLogicalId("default");
    const dataAlicloudZonesDefault =
      new alicloud.dataAlicloudZones.DataAlicloudZones(this, "default_3", {
        availableDiskCategory: "cloud_efficiency",
        availableResourceCreation: "VSwitch",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudZonesDefault.overrideLogicalId("default");
    const alicloudSecurityGroupDefault =
      new alicloud.securityGroup.SecurityGroup(this, "default_4", {
        name: name.stringValue,
        vpcId: cdktf.Token.asString(alicloudVpcDefault.id),
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudSecurityGroupDefault.overrideLogicalId("default");
    const alicloudSecurityGroupRuleDefault =
      new alicloud.securityGroupRule.SecurityGroupRule(this, "default_5", {
        cidrIp: "172.16.0.0/24",
        ipProtocol: "tcp",
        nicType: "intranet",
        policy: "accept",
        portRange: "22/22",
        priority: 1,
        securityGroupId: cdktf.Token.asString(alicloudSecurityGroupDefault.id),
        type: "ingress",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudSecurityGroupRuleDefault.overrideLogicalId("default");
    const alicloudVswitchDefault = new alicloud.vswitch.Vswitch(
      this,
      "default_6",
      {
        cidrBlock: "172.16.0.0/24",
        vpcId: cdktf.Token.asString(alicloudVpcDefault.id),
        vswitchName: name.stringValue,
        zoneId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
        ),
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudVswitchDefault.overrideLogicalId("default");
    const dataAlicloudInstanceTypesDefault =
      new alicloud.dataAlicloudInstanceTypes.DataAlicloudInstanceTypes(
        this,
        "default_7",
        {
          availabilityZone: cdktf.Token.asString(
            cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
          ),
          cpuCoreCount: 2,
          memorySize: 4,
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudInstanceTypesDefault.overrideLogicalId("default");
    const alicloudEssScalingGroupDefault =
      new alicloud.essScalingGroup.EssScalingGroup(this, "default_8", {
        maxSize: 1,
        minSize: 1,
        removalPolicies: ["OldestInstance", "NewestInstance"],
        scalingGroupName: name.stringValue,
        vswitchIds: [cdktf.Token.asString(alicloudVswitchDefault.id)],
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudEssScalingGroupDefault.overrideLogicalId("default");
    const alicloudEssScalingRuleDefault =
      new alicloud.essScalingRule.EssScalingRule(this, "default_9", {
        adjustmentType: "TotalCapacity",
        adjustmentValue: 1,
        scalingGroupId: cdktf.Token.asString(alicloudEssScalingGroupDefault.id),
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudEssScalingRuleDefault.overrideLogicalId("default");
    const alicloudEssScalingConfigurationDefault =
      new alicloud.essScalingConfiguration.EssScalingConfiguration(
        this,
        "default_10",
        {
          forceDelete: cdktf.Token.asBoolean("true"),
          imageId: cdktf.Token.asString(
            cdktf.propertyAccess(dataAlicloudImagesDefault.images, ["0", "id"])
          ),
          instanceType: cdktf.Token.asString(
            cdktf.propertyAccess(
              dataAlicloudInstanceTypesDefault.instanceTypes,
              ["0", "id"]
            )
          ),
          scalingGroupId: cdktf.Token.asString(
            alicloudEssScalingGroupDefault.id
          ),
          securityGroupId: cdktf.Token.asString(
            alicloudSecurityGroupDefault.id
          ),
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudEssScalingConfigurationDefault.overrideLogicalId("default");
  }
}

```

## Module Support

You can use to the existing [autoscaling-rule module](https://registry.terraform.io/modules/terraform-alicloud-modules/autoscaling-rule/alicloud) 
to create different type rules, alarm task and scheduled task one-click.

## Argument Reference

The following arguments are supported:

* `scalingGroupId` - (Required) ID of the scaling group of a scaling rule.
* `adjustmentType` - (Optional) Adjustment mode of a scaling rule. Optional values:
    - QuantityChangeInCapacity: It is used to increase or decrease a specified number of ECS instances.
    - PercentChangeInCapacity: It is used to increase or decrease a specified proportion of ECS instances.
    - TotalCapacity: It is used to adjust the quantity of ECS instances in the current scaling group to a specified value.
* `adjustmentValue` - (Optional) The number of ECS instances to be adjusted in the scaling rule. This parameter is required and applicable only to simple scaling rules. The number of ECS instances to be adjusted in a single scaling activity cannot exceed 500. Value range:
    - QuantityChangeInCapacity：(0, 500] U (-500, 0]
    - PercentChangeInCapacity：[0, 10000] U [-100, 0]
    - TotalCapacity：[0, 1000]
* `scalingRuleName` - (Optional) Name shown for the scaling rule, which must contain 2-64 characters (English or Chinese), starting with numbers, English letters or Chinese characters, and can contain number, underscores `_`, hypens `-`, and decimal point `.`. If this parameter value is not specified, the default value is scaling rule id. 
* `cooldown` - (Optional) The cooldown time of the scaling rule. This parameter is applicable only to simple scaling rules. Value range: [0, 86,400], in seconds. The default value is empty，if not set, the return value will be 0, which is the default value of integer.
* `scalingRuleType` - (Optional, Available in 1.58.0+) The scaling rule type, either "SimpleScalingRule", "TargetTrackingScalingRule", "StepScalingRule". Default to "SimpleScalingRule".
* `estimatedInstanceWarmup` - (Optional, Available in 1.58.0+) The estimated time, in seconds, until a newly launched instance will contribute CloudMonitor metrics. Default to 300.
* `metricName` - (Optional, Available in 1.58.0+) A CloudMonitor metric name.
* `targetValue` - (Optional, Available in 1.58.0+) The target value for the metric.
* `disableScaleIn` - (Optional, Available in 1.58.0+) Indicates whether scale in by the target tracking policy is disabled. Default to false.
* `stepAdjustment` - (Optional, Available in 1.58.0+) Steps for StepScalingRule. See [Block stepAdjustment](#block-stepAdjustment) below for details.

## Block stepAdjustment

The stepAdjustment mapping supports the following:

* `metricIntervalLowerBound` - (Optional) The lower bound of step.
* `metricIntervalUpperBound` - (Optional) The upper bound of step.
* `scalingAdjustment` - (Optional) The adjust value of step.

## Attributes Reference

The following attributes are exported:

* `id` - The scaling rule ID.

## Import

ESS scaling rule can be imported using the id, e.g.

```shell
$ terraform import alicloud_ess_scaling_rule.example abc123456
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-2f5094085ea472feb0c14912acd13709a83d04663200dd503a83712ada87548e -->