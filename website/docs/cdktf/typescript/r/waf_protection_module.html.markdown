---
subcategory: "Web Application Firewall(WAF)"
layout: "alicloud"
page_title: "Alicloud: alicloud_waf_protection_module"
sidebar_current: "docs-alicloud-resource-waf-protection-module"
description: |-
  Provides a Alicloud Web Application Firewall(WAF) Protection Module resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_waf\_protection\_module

Provides a Web Application Firewall(WAF) Protection Module resource.

For information about Web Application Firewall(WAF) Protection Module and how to use it, see [What is Protection Module](https://www.alibabacloud.com/help/en/doc-detail/160775.htm).

-> **NOTE:** Available in v1.141.0+.

## Example Usage

Basic Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    const dataAlicloudWafInstancesDefault =
      new alicloud.dataAlicloudWafInstances.DataAlicloudWafInstances(
        this,
        "default",
        {}
      );
    const alicloudWafDomainDefault = new alicloud.wafDomain.WafDomain(
      this,
      "default_1",
      {
        clusterType: "PhysicalCluster",
        domainName: "you domain",
        http2Port: [cdktf.Token.asString(443)],
        httpPort: [cdktf.Token.asString(80)],
        httpToUserIp: "Off",
        httpsPort: [cdktf.Token.asString(443)],
        httpsRedirect: "Off",
        instanceId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudWafInstancesDefault.ids, ["0"])
        ),
        isAccessProduct: "On",
        loadBalancing: "IpHash",
        logHeaders: [
          {
            key: "foo",
            value: "http",
          },
        ],
        sourceIps: ["1.1.1.1"],
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudWafDomainDefault.overrideLogicalId("default");
    const alicloudWafProtectionModuleDefault =
      new alicloud.wafProtectionModule.WafProtectionModule(this, "default_2", {
        defenseType: "ac_cc",
        domain: cdktf.Token.asString(alicloudWafDomainDefault.domainName),
        instanceId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudWafInstancesDefault.ids, ["0"])
        ),
        mode: 0,
        status: 0,
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudWafProtectionModuleDefault.overrideLogicalId("default");
  }
}

```

## Argument Reference

The following arguments are supported:

* `defenseType` - (Required, ForceNew) The Protection Module. Valid values: `acCc`, `antifraud`, `dld`, `normalized`, `waf`.
  * `waf`: RegEx Protection Engine.
  * `dld`: Big Data Deep Learning Engine.
  * `acCc`: HTTP Flood Protection.
  * `antifraud`: Data Risk Control.
  * `normalized`: Positive Security Model.
* `domain` - (Required, ForceNew) The domain name that is added to WAF.
* `instanceId` - (Required, ForceNew) The ID of the WAF instance.
* `mode` - (Required) The protection mode of the specified protection module. **NOTE:** The value of the Mode parameter varies based on the value of the `defenseType` parameter.
  * The `defenseType` is `waf`. `0`: block mode. `1`: warn mode.
  * The `defenseType` is `dld`. `0`: warn mode. `1`: block mode.
  * The `defenseType` is `acCc`. `0`: prevention mode. `1`: protection-emergency mode.
  * The `defenseType` is `antifraud`. `0`: warn mode. `1`: block mode. `2`: strict interception mode.
  * The `defenseType` is `normalized`. `0`: warn mode. `1`: block mode.
* `status` - (Optional) The status of the resource. Valid values: `0`, `1`.
  * `0`: disables the protection module.
  * `1`: enables the protection module.

## Attributes Reference

The following attributes are exported:

* `id` - The resource ID of Protection Module. The value formats as `<instance_id>:<domain>:<defense_type>`.

## Import

Web Application Firewall(WAF) Protection Module can be imported using the id, e.g.

```shell
$ terraform import alicloud_waf_protection_module.example <instance_id>:<domain>:<defense_type>
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-8e2f6fa1b67c9c40fd32cb44b8bae64263a1d7f3fe363a3d3fea44b554b571f5 -->