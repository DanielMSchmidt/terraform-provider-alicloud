---
subcategory: "Log Service (SLS)"
layout: "alicloud"
page_title: "Alicloud: alicloud_log_audit"
sidebar_current: "docs-alicloud-resource-log-audit"
description: |-
  Provides a Alicloud log audit resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_log\_audit

SLS log audit exists in the form of log service app.

In addition to inheriting all SLS functions, it also enhances the real-time automatic centralized collection of audit related logs across multi cloud products under multi accounts, and provides support for storage, query and information summary required by audit. It covers actiontrail, OSS, NAS, SLB, API gateway, RDS, WAF, cloud firewall, cloud security center and other products.

-> **NOTE:** Available in 1.81.0

## Example Usage

Basic Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    new alicloud.logAudit.LogAudit(this, "example", {
      aliuid: "12345678",
      displayName: "tf-audit-test",
      variableMap: {
        actiontrail_enabled: "true",
        actiontrail_ti_enabled: "false",
        actiontrail_ttl: "180",
        apigateway_enabled: "true",
        apigateway_ti_enabled: "false",
        apigateway_ttl: "180",
        appconnect_enabled: "false",
        appconnect_ttl: "180",
        bastion_enabled: "true",
        bastion_ti_enabled: "false",
        bastion_ttl: "180",
        cloudfirewall_enabled: "true",
        cloudfirewall_ti_enabled: "false",
        cloudfirewall_ttl: "180",
        cps_enabled: "true",
        cps_ti_enabled: "false",
        cps_ttl: "180",
        ddos_bgp_access_enabled: "false",
        ddos_bgp_access_ttl: "180",
        ddos_coo_access_enabled: "false",
        ddos_coo_access_ti_enabled: "false",
        ddos_coo_access_ttl: "180",
        ddos_dip_access_enabled: "false",
        ddos_dip_access_ti_enabled: "false",
        ddos_dip_access_ttl: "180",
        drds_audit_collection_policy: "",
        drds_audit_enabled: "true",
        drds_audit_ti_enabled: "false",
        drds_audit_ttl: "7",
        drds_sync_enabled: "true",
        drds_sync_ttl: "180",
        k8s_audit_collection_policy: "",
        k8s_audit_enabled: "true",
        k8s_audit_ttl: "180",
        k8s_event_collection_policy: "",
        k8s_event_enabled: "true",
        k8s_event_ttl: "180",
        k8s_ingress_collection_policy: "",
        k8s_ingress_enabled: "true",
        k8s_ingress_ttl: "180",
        nas_enabled: "true",
        nas_ti_enabled: "false",
        nas_ttl: "180",
        oss_access_enabled: "true",
        oss_access_ti_enabled: "false",
        oss_access_ttl: "7",
        oss_metering_enabled: "true",
        oss_metering_ttl: "180",
        oss_sync_enabled: "true",
        oss_sync_ttl: "180",
        polardb_audit_collection_policy: "",
        polardb_enabled: "true",
        polardb_perf_collection_policy: "",
        polardb_perf_enabled: "false",
        polardb_perf_ttl: "180",
        polardb_slow_collection_policy: "",
        polardb_slow_enabled: "false",
        polardb_slow_ttl: "180",
        polardb_ti_enabled: "false",
        polardb_ttl: "180",
        rds_audit_collection_policy: "",
        rds_enabled: "true",
        rds_perf_collection_policy: "",
        rds_perf_enabled: "false",
        rds_perf_ttl: "180",
        rds_slow_collection_policy: "",
        rds_slow_enabled: "false",
        rds_slow_ttl: "180",
        rds_ti_enabled: "false",
        rds_ttl: "180",
        sas_crack_enabled: "true",
        sas_dns_enabled: "true",
        sas_http_enabled: "true",
        sas_local_dns_enabled: "true",
        sas_login_enabled: "true",
        sas_network_enabled: "true",
        sas_process_enabled: "true",
        sas_security_alert_enabled: "true",
        sas_security_hc_enabled: "true",
        sas_security_vul_enabled: "true",
        sas_session_enabled: "true",
        sas_snapshot_account_enabled: "true",
        sas_snapshot_port_enabled: "true",
        sas_snapshot_process_enabled: "true",
        sas_ti_enabled: "false",
        sas_ttl: "180",
        slb_access_collection_policy: "",
        slb_access_enabled: "true",
        slb_access_ti_enabled: "false",
        slb_access_ttl: "7",
        slb_sync_enabled: "true",
        slb_sync_ttl: "180",
        vpc_flow_collection_policy: "",
        vpc_flow_enabled: "false",
        vpc_flow_ttl: "7",
        vpc_sync_enabled: "true",
        vpc_sync_ttl: "180",
        waf_enabled: "true",
        waf_ti_enabled: "false",
        waf_ttl: "180",
      },
    });
  }
}

```
Multiple accounts Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    new alicloud.logAudit.LogAudit(this, "example", {
      aliuid: "12345678",
      displayName: "tf-audit-test",
      multiAccount: ["123456789123", "12345678912300123"],
      variableMap: {
        actiontrail_enabled: "true",
        actiontrail_ttl: "180",
        oss_access_enabled: "true",
        oss_access_ttl: "180",
      },
    });
  }
}

```
Resource Directory Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    new alicloud.logAudit.LogAudit(this, "example", {
      aliuid: "12345678",
      displayName: "tf-audit-test",
      resourceDirectoryType: "all",
      variableMap: {
        actiontrail_enabled: "true",
        actiontrail_ttl: "180",
        oss_access_enabled: "true",
        oss_access_ttl: "180",
      },
    });
  }
}

```
```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    new alicloud.logAudit.LogAudit(this, "example", {
      aliuid: "12345678",
      displayName: "tf-audit-test",
      multiAccount: ["123456789123", "12345678912300123"],
      resourceDirectoryType: "custom",
      variableMap: {
        actiontrail_enabled: "true",
        actiontrail_ttl: "180",
        oss_access_enabled: "true",
        oss_access_ttl: "180",
      },
    });
  }
}

```
## Argument Reference

The following arguments are supported:

* `displayName` - (Required, ForceNew) Name of SLS log audit.
* `aliuid` - (Required, ForceNew) Aliuid value of your account.
* `variableMap` - (Required) Log audit detailed configuration.
    * `actiontrailEnabled` - (Optional) Actiontrail action log switch. Default false.
    * `actiontrailTtl` - (Optional) Actiontril action log TTL. Default 180.
    
    - `actiontrailTiEnabled`- (Optional) Actiontrail action log threat intelligence detection swtich. Default false.
    - `ossAccessEnabled` - (Optional) Access log switch of OSS. Default false.
    
    - `ossAccessTtl` - (Optional) Regional Access log TTL of OSS. Default 7.
    - `ossSyncEnabled` - (Optional) OSS synchronization to central configuration switch. Default true.
    
    - `ossSyncTtl` - (Optional) OSS synchronization to central TTL. Default 180.
    - `ossAccessTiEnabled` - (Optional) OSS access log threat intelligence detection swtich. Default false.
    
    - `ossMeteringEnabled` - (Optional) OSS metering log switch.Default false.
    - `ossMeteringTtl` - (Optional) OSS measurement log TTL. Default 180.
    
    - `rdsEnabled` - (Optional) RDS audit log switch. Default false.
    - `rdsAuditCollectionPolicy` - (Optional) RDS audit log collection policy script. Default empty.
    
    - `rdsTtl` - (Optional) RDS audit log ttl. Default 180.
    - `rdsTiEnabled` - (Optional) RDS audit log threat intelligence detection swtich. Default false.
    
    - `rdsSlowEnabled` -  (Optional) RDS slow log switch. Default false.
    - `rdsSlowCollectionPolicy` - (Optional) RDS slow log collection policy script. Default empty.
    
    - `rdsSlowTtl` - (Optional) RDS slow log TTL. Default 180.
    - `rdsPerfEnabled` -  (Optional) RDS performance log switch. Default false.
    
    - `rdsPerfCollectionPolicy` - (Optional) RDS performance log collection policy script. Default empty.
    - `rdsPerfTtl` - (Optional) RDS performance log TTL. Default 180.
    - `vpcFlowEnabled` - (Optional) Flow log of VPC. Default false.
    - `vpcFlowTtl` - (Optional) Regional flow log TTL of VPC. Default 7.
    - `vpcFlowCollectionPolicy` - (Optional) VPC flow log collection policy script. Default empty.
    - `vpcSyncEnabled` - (Optional) VPC synchronization to central configuration switch. Default true.
    - `vpcSyncTtl` - (Optional) VPC synchronization to central TTL. Default 180.
    - `polardbEnabled` - (Optional) PolarDB audit log switch. Default false.
    - `polardbAuditCollectionPolicy` - (Optional) PolarDB audit log collection policy script. Default empty.
    
    - `polardbTtl` - (Optional) PolarDB audit log ttl. Default 180.
    - `polardbTiEnabled` - (Optional) PolarDB audit log threat intelligence detection swtich. Default false.
    
    - `polardbSlowEnabled` -  (Optional) PolarDB slow log switch. Default false.
    - `polardbSlowCollectionPolicy` - (Optional) PolarDB slow log collection policy script. Default empty.
    
    - `polardbSlowTtl` - (Optional) PolarDB slow log TTL. Default 180.
    - `polardbPerfEnabled` -  (Optional) PolarDB performance log switch. Default false.
    
    - `polardbPerfCollectionPolicy` - (Optional) PolarDB performance log collection policy script. Default empty.
    - `polardbPerfTtl` - (Optional) PolarDB performance log TTL. Default 180.
    
    - `drdsAuditEnabled` - (Optional) PolarDB-X audit log switch. Default false.
    - `rdsAuditCollectionPolicy` - (Optional) PolarDB-X  audit log collection policy script. Default empty.
    
    - `drdsAuditTtl` - (Optional) Regional PolarDB-X  audit log ttl. Default 7.
    - `drdsSyncEnabled` - (Optional) PolarDB-X synchronization to central configuration switch. Default true.
    
    - `drdsSyncTtl` - (Optional) PolarDB-X synchronization to central TTL. Default 180.
    - `drdsAuditTiEnabled` - (Optional) PolarDB-X audit log threat intelligence detection swtich. Default false.
    
    - `slbAccessEnabled` - (Optional) Slb log switch. Default false.
    - `slbAccessCollectionPolicy` - (Optional) Slb log collection policy script. Default empty.
    
    - `slbAccessTtl` - (Optional) Regional Slb access log ttl. Default 7.
    - `slbSyncEnabled` - (Optional) Slb sync to center switch. Default true.
    
    - `slbSyncTtl` - (Optional) Slb sync to center switch. Default 180.
    - `slbAccessTiEnabled` - (Optional) Slb log threat intelligence detection swtich. Default false.
    
    - `bastionEnabled` - (Optional) Fortress machine operation log switch.Default false.
    - `bastionTtl` - (Optional) Fortress machine centralized ttl. Default 180.
    
    - `bastionTiEnabled` - (Optional) Fortress machine operation log threat intelligence detection swtich. Default false.
    - `wafEnabled` - (Optional) Waf log switch. Default false.
    
    - `wafTtl` - (Optional) Waf centralized ttl. Default 180.
    - `wafTiEnabled` - (Optional) Waf log threat intelligence detection swtich. Default false.
    
    - `cloudfirewallEnabled` - (Optional) Cloudfirewall log switch. Default false.
    - `cloudfirewallTtl` - (Optional) Cloudfirewall log ttl.Default 180.
    
    - `cloudfirewallTiEnabled` - (Optional) Cloudfirewall log threat intelligence detection swtich. Default false.
    - `ddosCooAccessEnabled` - (Optional) Anti-DDoS Pro(New BGP) access log switch. Default false.
    
    - `ddosCooAccessTtl` - (Optional) Anti-DDoS Pro (New BGP) access log ttl. Default 180.
    - `ddosCooAccessTiEnabled` - (Optional) Anti-DDoS Pro (New BGP) access log threat intelligence detection swtich. Default false.
    - `ddosBgpAccessEnabled` - (Optional) Anti-DDoS (Origin) access log switch. Default false.
    - `ddosBgpAccessTtl` - (Optional) Anti-DDoS (Origin) access log ttl. Default 180.
    - `ddosDipAccessEnabled` - (Optional) Anti-DDoS Premium access log switch. Default false.
    
    - `ddosDipAccessTtl` - (Optional) Anti-DDoS Premium access log ttl. Default 180.
    - `ddosDipAccessTiEnabled` - (Optional) Anti-DDoS Premium access log threat intelligence detection swtich. Default false.
    - `sasTtl` - (Optional) Cloud Security Center centralized ttl. Default 180.
    - `sasProcessEnabled` - (Optional) Cloud Security Center process startup log switch. Default false.
    
    - `sasNetworkEnabled` - (Optional) Cloud security center network connection log switch. Default false.
    - `sasLoginEnabled` - (Optional) Cloud security center login flow log switch. Default false.
    
    - `sasCrackEnabled` - (Optional) Cloud Security Center Brute Force Log Switch. Default false.
    - `sasSnapshotProcessEnabled` - (Optional) Cloud Security Center process snapshot switch. Default false.
    
    - `sasSnapshotAccountEnabled` - (Optional) Cloud Security Center account snapshot switch. Default false.
    - `sasSnapshotPortEnabled` - (Optional) Cloud Security Center Port Snapshot Switch. Default false.
    
    - `sasDnsEnabled` - (Optional) Cloud Security Center DNS resolution log switch. Default false.
    - `sasLocalDnsEnabled` - (Optional) Cloud security center local DNS log switch. Default false.
    
    - `sasSessionEnabled` - (Optional) Cloud security center network session log switch.Default false.
    - `sasHttpEnabled` - (Optional). Cloud Security Center WEB access log switch. Default false.
    
    - `sasSecurityVulEnabled` - (Optional) Cloud Security Center Vulnerability Log Switch.Default false.
    - `sasSecurityHcEnabled` - (Optional) Cloud Security Center Baseline Log Switch. Default false.
    
    - `sasSecurityAlertEnabled` - (Optional) Cloud Security Center Security Alarm Log Switch .Default false.
    - `sasTiEnabled` - (Optional) Cloud Security Center Security Log threat intelligence detection swtich. Default false.
    
    - `apigatewayEnabled` - (Optional) API Gateway Log Switch. Default false.
    - `apigatewayTtl` - (Optional) API Gateway ttl. Default 180.
    
    - `apigatewayTiEnabled` - (Optional) API Gateway Log threat intelligence detection swtich. Default false.
    - `nasEnabled` - (Optional) Nas log switch. Default false.
    
    - `nasTtl` - (Optional) Nas centralized ttl. Default 180.
    - `nasTiEnabled` - (Optional) Nas log threat intelligence detection swtich. Default false.
    
    - `appconnectEnabled` - (Optional) App Connect operation log switch. Default false.
    - `appconnectTtl` - (Optional) App Connect operation log ttl. Default 180.
    
    - `appconnectTiEnabled` - (Optional) App Connect operation log threat intelligence detection swtich. Default false.
    - `cpsEnabled` - (Optional) Mobile push log switch. Default false.
    
    - `cpsTtl` - (Optional) Mobile push ttl. Default 180.
    - `cpsTiEnabled` - (Optional) Mobile push log threat intelligence detection swtich. Default false.
    
    - `k8SAuditEnabled` - (Optional) K8s audit log switch. Default false.
    - `k8SAuditCollectionPolicy` - (Optional) K8s audit log collection policy script. Default empty.
    
    - `k8SAuditTtl` - (Optional) K8s audit log ttl. Default 180.
    - `k8SEventEnabled` - (Optional) K8s event log switch. Default false.
    
    - `k8SEventCollectionPolicy` - (Optional) K8s event log collection policy script. Default empty.
    - `k8SEventTtl` - (Optional) K8s event log ttl. Default 180.
    
    - `k8SIngressEnabled` - (Optional) K8s ingress log switch. Default false.
    - `k8SIngressCollectionPolicy` - (Optional) K8s ingress log collection policy script. Default empty.
    
    - `k8SIngressTtl` - (Optional) K8s ingress log ttl. Default 180.
* `multiAccount` - (Optional) Multi-account configuration, please fill in multiple aliuid.
* `resourceDirectoryType` - (Optional, Available in 1.135.0+) Resource Directory type. Optional values are all or custom. If the value is custom, argument multi_account should be provided.
                

## Attributes Reference

The following attributes are exported:

*  `id` - The ID of the log audit. It formats of `displayName`.

## Import

-> **NOTE:** The UI settings of collection policy scripts for related products (such as rds, slb and etc.) will be cleared when imported using terraform. So you need to modify collection policy scripts directly if you want to edit collection policy in terraform.

Log audit can be imported using the id, e.g.

```shell
$ terraform import alicloud_log_audit.example tf-audit-test
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-96c62bfa93900232bbd2fc27276fbaa7ad7c0c5a5a7271cee06fe2436e9a1c50 -->