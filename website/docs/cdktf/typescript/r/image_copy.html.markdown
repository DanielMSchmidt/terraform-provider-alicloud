---
subcategory: "ECS"
layout: "alicloud"
page_title: "Alicloud: alicloud_image_copy"
sidebar_current: "docs-alicloud-resource-image-copy"
description: |-
  Provides an ECS image copy resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_image\_copy

Copies a custom image from one region to another. You can use copied images to perform operations in the target region, such as creating instances (RunInstances) and replacing system disks (ReplaceSystemDisk).

-> **NOTE:** You can only copy the custom image when it is in the Available state.

-> **NOTE:** You can only copy the image belonging to your Alibaba Cloud account. Images cannot be copied from one account to another.

-> **NOTE:** If the copying is not completed, you cannot call DeleteImage to delete the image but you can call CancelCopyImage to cancel the copying.

-> **NOTE:** Available in 1.66.0+.

## Example Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    const alicloudSh = new alicloud.provider.AlicloudProvider(
      this,
      "alicloud",
      {
        alias: "sh",
        region: "cn-shanghai",
      }
    );
    const alicloudHz = new alicloud.provider.AlicloudProvider(
      this,
      "alicloud_1",
      {
        alias: "hz",
        region: "cn-hangzhou",
      }
    );
    const alicloudVpcDefault = new alicloud.vpc.Vpc(this, "default", {
      cidrBlock: "172.17.3.0/24",
      provider: alicloudHz,
      vpcName: "terraform-example",
    });
    const dataAlicloudImagesDefault =
      new alicloud.dataAlicloudImages.DataAlicloudImages(this, "default_3", {
        nameRegex: "^ubuntu_[0-9]+_[0-9]+_x64*",
        owners: "system",
        provider: alicloudHz,
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudImagesDefault.overrideLogicalId("default");
    const dataAlicloudInstanceTypesDefault =
      new alicloud.dataAlicloudInstanceTypes.DataAlicloudInstanceTypes(
        this,
        "default_4",
        {
          instanceTypeFamily: "ecs.sn1ne",
          provider: alicloudHz,
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudInstanceTypesDefault.overrideLogicalId("default");
    const dataAlicloudZonesDefault =
      new alicloud.dataAlicloudZones.DataAlicloudZones(this, "default_5", {
        availableResourceCreation: "Instance",
        provider: alicloudHz,
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudZonesDefault.overrideLogicalId("default");
    const alicloudSecurityGroupDefault =
      new alicloud.securityGroup.SecurityGroup(this, "default_6", {
        name: "terraform-example",
        provider: alicloudHz,
        vpcId: cdktf.Token.asString(alicloudVpcDefault.id),
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudSecurityGroupDefault.overrideLogicalId("default");
    const alicloudVswitchDefault = new alicloud.vswitch.Vswitch(
      this,
      "default_7",
      {
        cidrBlock: "172.17.3.0/24",
        provider: alicloudHz,
        vpcId: cdktf.Token.asString(alicloudVpcDefault.id),
        vswitchName: "terraform-example",
        zoneId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
        ),
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudVswitchDefault.overrideLogicalId("default");
    const alicloudInstanceDefault = new alicloud.instance.Instance(
      this,
      "default_8",
      {
        availabilityZone: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
        ),
        imageId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudImagesDefault.ids, ["0"])
        ),
        instanceName: "terraform-example",
        instanceType: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudInstanceTypesDefault.ids, ["0"])
        ),
        internetMaxBandwidthOut: 10,
        provider: alicloudHz,
        securityGroups: [cdktf.Token.asString(alicloudSecurityGroupDefault.id)],
        vswitchId: cdktf.Token.asString(alicloudVswitchDefault.id),
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudInstanceDefault.overrideLogicalId("default");
    const alicloudImageDefault = new alicloud.image.Image(this, "default_9", {
      description: "terraform-example",
      imageName: "terraform-example",
      instanceId: cdktf.Token.asString(alicloudInstanceDefault.id),
      provider: alicloudHz,
    });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudImageDefault.overrideLogicalId("default");
    const alicloudImageCopyDefault = new alicloud.imageCopy.ImageCopy(
      this,
      "default_10",
      {
        description: "terraform-example",
        imageName: "terraform-example",
        provider: alicloudSh,
        sourceImageId: cdktf.Token.asString(alicloudImageDefault.id),
        sourceRegionId: "cn-hangzhou",
        tags: {
          FinanceDept: "FinanceDeptJoshua",
        },
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudImageCopyDefault.overrideLogicalId("default");
  }
}

```

## Argument Reference

The following arguments are supported:

* `sourceImageId` - (Required, ForceNew) The source image ID.
* `sourceRegionId` - (Required, ForceNew) The ID of the region to which the source custom image belongs. You can call [DescribeRegions](https://www.alibabacloud.com/help/doc-detail/25609.htm) to view the latest regions of Alibaba Cloud.
* `imageName` - (Optional) The image name. It must be 2 to 128 characters in length, and must begin with a letter or Chinese character (beginning with http:// or https:// is not allowed). It can contain digits, colons (:), underscores (_), or hyphens (-). Default value: null.
* `description` - (Optional) The description of the image. It must be 2 to 256 characters in length and must not start with http:// or https://. Default value: null.
* `encrypted` - (Optional, ForceNew) Indicates whether to encrypt the image.
* `kmsKeyId` - (Optional, ForceNew) Key ID used to encrypt the image.
* `tags` - (Optional) The tag value of an image. The value of N ranges from 1 to 20.
* `force` - (Optional) Indicates whether to force delete the custom image, Default is `false`. 
  - true：Force deletes the custom image, regardless of whether the image is currently being used by other instances.
  - false：Verifies that the image is not currently in use by any other instances before deleting the image.
  
## Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts) for certain actions:

* `create` - (Defaults to 10 mins) Used when copying the image (until it reaches the initial `available` status). 
* `delete` - (Defaults to 10 mins) Used when terminating the image.
   
   
## Attributes Reference0
 
 The following attributes are exported:
 
* `id` - ID of the image.

## Import
 
image can be imported using the id, e.g.

```shell
$ terraform import alicloud_image_copy.default m-uf66871ape***yg1q***
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-08730a22f49c431f1c76713464cae01144311e6e7eef35b330090b9985388f28 -->