---
subcategory: "Elastic High Performance Computing (Ehpc)"
layout: "alicloud"
page_title: "Alicloud: alicloud_ehpc_cluster"
sidebar_current: "docs-alicloud-resource-ehpc-cluster"
description: |-
  Provides a Alicloud Ehpc Cluster resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_ehpc\_cluster

Provides a Ehpc Cluster resource.

For information about Ehpc Cluster and how to use it, see [What is Cluster](https://www.alibabacloud.com/help/e-hpc/latest/createcluster).

-> **NOTE:** Available in v1.173.0+.

## Example Usage

Basic Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    /*Terraform Variables are not always the best fit for getting inputs in the context of Terraform CDK.
    You can read more about this at https://cdk.tf/variables*/
    const storageType = new cdktf.TerraformVariable(this, "storage_type", {
      default: "Performance",
    });
    const alicloudNasFileSystemDefault =
      new alicloud.nasFileSystem.NasFileSystem(this, "default", {
        protocolType: "NFS",
        storageType: storageType.stringValue,
      });
    const dataAlicloudImagesDefault =
      new alicloud.dataAlicloudImages.DataAlicloudImages(this, "default_2", {
        nameRegex: "^centos_7_6_x64*",
        owners: "system",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudImagesDefault.overrideLogicalId("default");
    const dataAlicloudVpcsDefault =
      new alicloud.dataAlicloudVpcs.DataAlicloudVpcs(this, "default_3", {
        nameRegex: "default-NODELETING",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudVpcsDefault.overrideLogicalId("default");
    const dataAlicloudZonesDefault =
      new alicloud.dataAlicloudZones.DataAlicloudZones(this, "default_4", {
        availableResourceCreation: "VSwitch",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudZonesDefault.overrideLogicalId("default");
    const dataAlicloudInstanceTypesDefault =
      new alicloud.dataAlicloudInstanceTypes.DataAlicloudInstanceTypes(
        this,
        "default_5",
        {
          availabilityZone: cdktf.Token.asString(
            cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
          ),
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudInstanceTypesDefault.overrideLogicalId("default");
    const dataAlicloudVswitchesDefault =
      new alicloud.dataAlicloudVswitches.DataAlicloudVswitches(
        this,
        "default_6",
        {
          vpcId: cdktf.Token.asString(
            cdktf.propertyAccess(dataAlicloudVpcsDefault.ids, ["0"])
          ),
          zoneId: cdktf.Token.asString(
            cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
          ),
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudVswitchesDefault.overrideLogicalId("default");
    const alicloudNasMountTargetDefault =
      new alicloud.nasMountTarget.NasMountTarget(this, "default_7", {
        accessGroupName: "DEFAULT_VPC_GROUP_NAME",
        fileSystemId: cdktf.Token.asString(alicloudNasFileSystemDefault.id),
        vswitchId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudVswitchesDefault.ids, ["0"])
        ),
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudNasMountTargetDefault.overrideLogicalId("default");
    const alicloudEhpcClusterDefault = new alicloud.ehpcCluster.EhpcCluster(
      this,
      "default_8",
      {
        clusterName: "example_value",
        computeCount: 1,
        computeInstanceType: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudInstanceTypesDefault.instanceTypes, [
            "0",
            "id",
          ])
        ),
        deployMode: "Simple",
        description: "example_description",
        haEnable: false,
        imageId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudImagesDefault.images, ["0", "id"])
        ),
        imageOwnerAlias: "system",
        loginCount: 1,
        loginInstanceType: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudInstanceTypesDefault.instanceTypes, [
            "0",
            "id",
          ])
        ),
        managerCount: 1,
        managerInstanceType: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudInstanceTypesDefault.instanceTypes, [
            "0",
            "id",
          ])
        ),
        osTag: "CentOS_7.6_64",
        password: "your-password123",
        schedulerType: "pbs",
        volumeId: cdktf.Token.asString(alicloudNasFileSystemDefault.id),
        volumeMountpoint: cdktf.Token.asString(
          alicloudNasMountTargetDefault.mountTargetDomain
        ),
        volumeProtocol: "nfs",
        vpcId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudVpcsDefault.ids, ["0"])
        ),
        vswitchId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudVswitchesDefault.ids, ["0"])
        ),
        zoneId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
        ),
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudEhpcClusterDefault.overrideLogicalId("default");
  }
}

```

## Argument Reference

The following arguments are supported:

* `accountType` - (Optional, Computed, ForceNew) The type of the domain account service. Valid values: `nis`, `ldap`. Default value: `nis`
* `additionalVolumes` - (Optional, ForceNew) The additional volumes. See the following `Block additional_volumes`.
* `application` - (Optional, Computed, ForceNew) The application. See the following `Block application`.
* `autoRenew` - (Optional) Specifies whether to enable auto-renewal for the subscription. Default value: `false`.
* `autoRenewPeriod` - (Optional) The auto-renewal period of the subscription compute nodes. The parameter takes effect when AutoRenew is set to true.
* `clientVersion` - (Optional, Computed, ForceNew) The version of the E-HPC client. By default, the parameter is set to the latest version number.
* `clusterName` - (Required) The name of the cluster. The name must be `2` to `64` characters in length.
* `clusterVersion` - (Optional) The version of the cluster. Default value: `10`.
* `computeCount` - (Required, ForceNew) The number of the compute nodes. Valid values: `1` to `99`.
* `computeEnableHt` - (Optional) Specifies whether the compute nodes support hyper-threading. Default value: `true`.
* `computeInstanceType` - (Required, ForceNew) The instance type of the compute nodes.
* `computeSpotPriceLimit` - (Optional) The maximum hourly price of the compute nodes. A maximum of three decimal places can be used in the value of the parameter. The parameter is valid only when the ComputeSpotStrategy parameter is set to SpotWithPriceLimit.
* `computeSpotStrategy` - (Optional) The bidding method of the compute nodes. Default value: `noSpot`. Valid values:
  - `noSpot`: The compute nodes are pay-as-you-go instances.
  - `spotWithPriceLimit`: The compute nodes are preemptible instances that have a user-defined maximum hourly price.
  - `spotAsPriceGo`: The compute nodes are preemptible instances for which the market price at the time of purchase is used as the bid price.
* `deployMode` - (Optional, Computed, ForceNew) The mode in which the cluster is deployed. Valid values: `standard`, `simple`, `tiny`. Default value: Standard.
  - `standard`: An account node, a scheduling node, a logon node, and multiple compute nodes are separately deployed.
  - `simple`: A management node, a logon node, and multiple compute nodes are deployed. The management node consists of an account node and a scheduling node. The logon node and compute nodes are separately deployed.
  - `tiny`: A management node and multiple compute nodes are deployed. The management node consists of an account node, a scheduling node, and a logon node. The compute nodes are separately deployed.
* `description` - (Optional, Computed) The description of the cluster. The description must be `2` to `256` characters in length. It cannot start with `http://` or `https://`.
* `domain` - (Optional) The domain name of the on-premises cluster. This parameter takes effect only when the AccoutType parameter is set to Idap.
* `ecsChargeType` - (Optional) The billing method of the nodes.
* `ehpcVersion` - (Optional) The version of E-HPC. By default, the parameter is set to the latest version number.
* `haEnable` - (Optional, Computed, ForceNew) Specifies whether to enable the high availability feature. Default value: `false`.  **Note:** If high availability is enabled, a primary management node and a secondary management node are used.
* `imageId` - (Optional, Computed) The ID of the image.
* `imageOwnerAlias` - (Optional, Computed) The type of the image. Valid values: `others`, `self`, `system`, `marketplace`. Default value: `system`.
* `inputFileUrl` - (Optional) The URL of the job files that are uploaded to an Object Storage Service (OSS) bucket.
* `isComputeEss` - (Optional) Specifies whether to enable auto scaling. Default value: `false`.
* `jobQueue` - (Optional) The queue to which the compute nodes are added.
* `keyPairName` - (Optional) The name of the AccessKey pair.
* `loginCount` - (Required, ForceNew) The number of the logon nodes. Valid values: `1`.
* `loginInstanceType` - (Required, ForceNew) The instance type of the logon nodes.
* `managerInstanceType` - (Required, ForceNew) The instance type of the management nodes.
* `managerCount` - (Optional, Computed, ForceNew) The number of the management nodes. Valid values: 1 and 2.
* `osTag` - (Required, ForceNew) The image tag of the operating system.
* `password` - (Optional, ForceNew) The root password of the logon node. The password must be 8 to 30 characters in length and contain at least three of the following items: uppercase letters, lowercase letters, digits, and special characters. The password can contain the following special characters: `( ) ~ ! @ # $ % ^ & * - + = { } [ ] : ; ‘ < > , . ? /`. You must specify either `password` or `keyPairName`. If both are specified, the Password parameter prevails.
* `period` - (Optional) The duration of the subscription. The unit of the duration is specified by the `periodUnit` parameter. Default value: `1`.
  * If you set PriceUnit to Year, the valid values of the Period parameter are 1, 2, and 3.
  * If you set PriceUnit to Month, the valid values of the Period parameter are 1, 2, 3, 4, 5, 6, 7, 8, and 9.
  * If you set PriceUnit to Hour, the valid value of the Period parameter is 1.
* `periodUnit` - (Optional) The unit of the subscription duration. Valid values: `year`, `month`, `hour`. Default value: `month`.
* `plugin` - (Optional) The mode configurations of the plug-in. This parameter takes effect only when the SchedulerType parameter is set to custom. The value must be a JSON string. The parameter contains the following parameters: pluginMod, pluginLocalPath, and pluginOssPath.
  - pluginMod: the mode of the plug-in. The following modes are supported:
    - oss: The plug-in is downloaded and decompressed from OSS to a local path. The local path is specified by the pluginLocalPath parameter.
    - image: By default, the plug-in is stored in a pre-defined local path. The local path is specified by the pluginLocalPath parameter.
  - pluginLocalPath: the local path where the plug-in is stored. We recommend that you select a shared directory in oss mode and a non-shared directory in image mode.
  - pluginOssPath: the remote path where the plug-in is stored in OSS. This parameter takes effect only when the pluginMod parameter is set to oss.
* `postInstallScript` - (Optional, ForceNew) The post install script. See the following `Block post_install_script`.
* `ramNodeTypes` - (Optional) The node of the RAM role.
* `ramRoleName` - (Optional) The name of the Resource Access Management (RAM) role.
* `releaseInstance` - (Optional) The release instance. Valid values: `true`.
* `remoteDirectory` - (Optional, Computed, ForceNew) The remote directory to which the file system is mounted.
* `remoteVisEnable` - (Optional) Specifies whether to enable Virtual Network Computing (VNC). Default value: `false`.
* `resourceGroupId` - (Optional) The ID of the resource group.
* `sccClusterId` - (Optional, Computed, ForceNew) The ID of the Super Computing Cluster (SCC) instance. If you specify the parameter, the SCC instance is moved to a new SCC cluster.
* `schedulerType` - (Optional, Computed, ForceNew) The type of the scheduler. Valid values: `pbs`, `slurm`, `opengridscheduler` and `deadline`. Default value: `pbs`.
* `securityGroupId` - (Optional, Computed, ForceNew) The ID of the security group to which the cluster belongs.
* `securityGroupName` - (Optional) If you do not use an existing security group, set the parameter to the name of a new security group. A default policy is applied to the new security group.
* `systemDiskLevel` - (Optional) The performance level of the ESSD that is used as the system disk. Default value: `pl1` For more information, see [ESSDs](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/essds). Valid values:
  * `pl0`: A single ESSD can deliver up to 10,000 random read/write IOPS.
  * `pl1`: A single ESSD can deliver up to 50,000 random read/write IOPS.
  * `pl2`: A single ESSD can deliver up to 100,000 random read/write IOPS.
  * `pl3`: A single ESSD can deliver up to 1,000,000 random read/write IOPS.
* `systemDiskSize` - (Optional) The size of the system disk. Unit: `gb`. Valid values: `40` to `500`. Default value: `40`.
* `systemDiskType` - (Optional) The type of the system disk. Valid values: `cloudEfficiency`, `cloudSsd`, `cloudEssd` or `cloud`. Default value: `cloudSsd`.
* `volumeId` - (Optional, Computed, ForceNew) The ID of the file system. If you leave the parameter empty, a Performance NAS file system is created by default.
* `volumeMountOption` - (Optional) The mount options of the file system.
* `volumeMountpoint` - (Optional, Computed, ForceNew) The mount target of the file system. Take note of the following information:
  - If you do not specify the VolumeId parameter, you can leave the VolumeMountpoint parameter empty. A mount target is created by default.
  - If you specify the VolumeId parameter, the VolumeMountpoint parameter is required.
* `volumeProtocol` - (Optional, Computed, ForceNew) The type of the protocol that is used by the file system. Valid values: `nfs`, `smb`. Default value: `nfs`.
* `volumeType` - (Optional, Computed, ForceNew) The type of the shared storage. Only Apsara File Storage NAS file systems are supported.
* `vswitchId` - (Optional, Computed, ForceNew) The ID of the vSwitch. E-HPC supports only VPC networks.
* `withoutAgent` - (Optional) Specifies whether not to install the agent. Default value: `false`.
* `withoutElasticIp` - (Optional) Specifies whether the logon node uses an elastic IP address (EIP). Default value: `false`.
* `zoneId` - (Optional, Computed, ForceNew) The ID of the zone.
* `vpcId` - (Optional, Computed, ForceNew) The ID of the virtual private cloud (VPC) to which the cluster belongs.

#### Block application

The application supports the following:

* `tag` - (Optional) The tag of the software.

#### Block post_install_script

The post_install_script supports the following: 

* `args` - (Optional) The parameter that is used to run the script after the cluster is created.
* `url` - (Optional) The URL that is used to download the script after the cluster is created.

#### Block additional_volumes

The additional_volumes supports the following: 

* `jobQueue` - (Optional) The queue of the nodes to which the additional file system is attached.
* `localDirectory` - (Optional) The local directory on which the additional file system is mounted.
* `location` - (Optional) The type of the cluster. Valid value: `publicCloud`.
* `remoteDirectory` - (Optional) The remote directory to which the additional file system is mounted.
* `roles` - (Optional) The roles. See the following `Block roles`.
* `volumeId` - (Optional) The ID of the additional file system.
* `volumeMountOption` - (Optional) The mount options of the file system.
* `volumeMountpoint` - (Optional) The mount target of the additional file system.
* `volumeProtocol` - (Optional) The type of the protocol that is used by the additional file system. Valid values: `nfs`, `smb`. Default value: `nfs`
* `volumeType` - (Optional) The type of the additional shared storage. Only NAS file systems are supported.

#### Block roles

The roles supports the following:

* `name` - (Optional) The type of the nodes to which the additional file system is attached.

## Attributes Reference

The following attributes are exported:

* `id` - The resource ID in terraform of Cluster.
* `status` - The status of the resource.

### Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts) for certain actions:

* `create` - (Defaults to 20 mins) Used when create the Cluster.
* `delete` - (Defaults to 5 mins) Used when delete the Cluster.
* `update` - (Defaults to 5 mins) Used when update the Cluster.

## Import

Ehpc Cluster can be imported using the id, e.g.

```shell
$ terraform import alicloud_ehpc_cluster.example <id>
```
<!-- cache-key: cdktf-0.17.0-pre.15 input-331449fcfb473831ef2a7e73c9d34ae0e64c01ad8ec261e8b1ee44ef9ad4b17f -->