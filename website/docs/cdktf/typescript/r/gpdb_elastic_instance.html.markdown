---
subcategory: "AnalyticDB for PostgreSQL (GPDB)"
layout: "alicloud"
page_title: "Alicloud: alicloud_gpdb_elastic_instance"
sidebar_current: "docs-alicloud-resource-gpdb-elastic-instance"
description: |-
  Provides a flexible storage mode AnalyticDB for PostgreSQL instance resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_gpdb\_elastic\_instance

Provides a AnalyticDB for PostgreSQL instance resource which storage type is flexible. Compared to the reserved storage ADB PG instance, you can scale up each disk and smoothly scale out nodes online.  
For more detail product introduction, see [here](https://www.alibabacloud.com/help/doc-detail/141368.htm).

-> **DEPRECATED:**  This resource  has been deprecated from version `11470`. Please use new resource [alicloud_gpdb_instance](https://www.terraform.io/docs/providers/alicloud/r/alicloud_gpdb_instance).

-> **NOTE:**  Available in 1.127.0+


## Example Usage

### Create a AnalyticDB for PostgreSQL instance

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    const alicloudVpcDefault = new alicloud.vpc.Vpc(this, "default", {
      cidrBlock: "172.16.0.0/16",
      name: "vpc-123456",
    });
    const dataAlicloudZonesDefault =
      new alicloud.dataAlicloudZones.DataAlicloudZones(this, "default_1", {
        availableResourceCreation: "Gpdb",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudZonesDefault.overrideLogicalId("default");
    const alicloudVswitchDefault = new alicloud.vswitch.Vswitch(
      this,
      "default_2",
      {
        cidrBlock: "172.16.0.0/24",
        vpcId: cdktf.Token.asString(alicloudVpcDefault.id),
        vswitchName: "vpc-123456",
        zoneId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
        ),
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudVswitchDefault.overrideLogicalId("default");
    new alicloud.gpdbElasticInstance.GpdbElasticInstance(
      this,
      "adb_pg_instance",
      {
        dbInstanceDescription: "Created by terraform",
        engine: "gpdb",
        engineVersion: "6.0",
        instanceNetworkType: "VPC",
        instanceSpec: "2C16G",
        paymentType: "PayAsYouGo",
        segNodeNum: 4,
        segStorageType: "cloud_essd",
        storageSize: 50,
        vswitchId: cdktf.Token.asString(alicloudVswitchDefault.id),
      }
    );
  }
}

```

## Argument Reference

The following arguments are supported:

* `engine` (Required, ForceNew) Database engine: `gpdb`.
* `engineVersion` - (Required, ForceNew) Database version. Valid value is `60`.
* `segStorageType` - (Required, ForceNew) The disk type of segment nodes. Valid values: `cloudEssd`, `cloudEfficiency`.
* `segNodeNum` - (Required, ForceNew) The number of segment nodes. Minimum is `4`, max is `256`, step is `4`.
* `storageSize` - (Required, ForceNew) The storage capacity of per segment node. Unit: GB. Minimum is `50`, max is `4000`, step is `50`. 
* `instanceSpec` - (Required, ForceNew) The specification of segment nodes. 
   * When `dbInstanceCategory` is `highAvailability`, Valid values: `2C16G`, `4C32G`, `16C128G`.
   * When `dbInstanceCategory` is `basic`, Valid values: `2C8G`, `4C16G`, `8C32G`, `16C64G`.
* `dbInstanceCategory` - (Optional, ForceNew, Available in v1.158.0+) The edition of the instance. Valid values: `basic`, `highAvailability`. Default value: `highAvailability`.
* `dbInstanceDescription` - (Optional) The description of ADB PG instance. It is a string of 2 to 256 characters.
* `instanceNetworkType` - (Optional, ForceNew) The network type of ADB PG instance. Only `vpc` supported now.
* `paymentType` - (Optional, ForceNew) Valid values are `payAsYouGo`, `subscription`. Default to `payAsYouGo`.
* `paymentDurationUnit` - (Optional) The unit of the subscription period. Valid values: `month`, `year`. It is valid when payment_type is `subscription`.  
  **NOTE:** Will not take effect after modifying `paymentDurationUnit` for now, if you want to renew a PayAsYouGo instance, need to do in on aliyun console.
* `paymentDuration` - (Optional) The subscription period. Valid values: [1~12]. It is valid when payment_type is `subscription`.  
  **NOTE:** Will not take effect after modifying `paymentDuration` for now, if you want to renew a PayAsYouGo instance, need to do in on aliyun console.
* `zoneId` - (Optional, ForceNew) The Zone to launch the ADB PG instance. If specified, must be consistent with the zone where the vswitch is located.
* `vswitchId` - (Required, ForceNew) The virtual switch ID to launch ADB PG instances in one VPC.
* `securityIpList` - (Optional) List of IP addresses allowed to access all databases of an instance. The list contains up to 1,000 IP addresses, separated by commas. Supported formats include 0.0.0.0/0, 10.23.12.24 (IP), and 10.23.12.24/24 (Classless Inter-Domain Routing (CIDR) mode. /24 represents the length of the prefix in an IP address. The range of the prefix length is [1,32]).
* `tags` - (Optional, Available in v1.158.0+) A mapping of tags to assign to the resource.
* `encryptionKey` - (Optional, ForceNew, Available in v1.158.0+) The ID of the encryption key. **Note:** If the `encryptionType` parameter is set to `cloudDisk`, you must specify this parameter to the encryption key that is in the same region as the disk that is specified by the EncryptionType parameter. Otherwise, leave this parameter empty.
* `encryptionType` - (Optional, ForceNew, Available in v1.158.0+)  The type of the encryption. Valid values: `cloudDisk`. **Note:** Disk encryption cannot be disabled after it is enabled.


### Timeouts

-> **NOTE:** Available in 1.127.0+.

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts) for certain actions:

* `create` - (Defaults to 60 mins) Used when creating the ADB PG instance (until it reaches the initial `running` status). 
* `update` - (Defaults to 30 mins) Used when updating the ADB PG instance (until it reaches the initial `running` status).
* `delete` - (Defaults to 10 mins) Used when terminating the ADB PG instance.

## Attributes Reference

The following attributes are exported:

* `id` - The ID of the Instance.
* `connectionString` - ADB PG instance connection string.
* `port` - (Available in 1.196.0+) The connection port of the instance.
* `status` - Instance status.

## Import

AnalyticDB for PostgreSQL can be imported using the id, e.g.

```shell
$ terraform import alicloud_gpdb_elastic_instance.adb_pg_instance gp-bpxxxxxxxxxxxxxx
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-c1937edb50abdcb6c238213beb3245d018b160c184a3042c80db338543d29bd9 -->