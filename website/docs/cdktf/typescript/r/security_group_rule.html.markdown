---
subcategory: "ECS"
layout: "alicloud"
page_title: "Alicloud: alicloud_security_group_rule"
sidebar_current: "docs-alicloud-resource-security-group-rule"
description: |-
  Provides a Alicloud Security Group Rule resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_security\_group\_rule

Provides a security group rule resource.
Represents a single `ingress` or `egress` group rule, which can be added to external Security Groups.

-> **NOTE:**  `nicType` should set to `intranet` when security group type is `vpc` or specifying the `sourceSecurityGroupId`. In this situation it does not distinguish between intranet and internet, the rule is effective on them both.


## Example Usage

Basic Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    const alicloudSecurityGroupDefault =
      new alicloud.securityGroup.SecurityGroup(this, "default", {
        name: "default",
      });
    new alicloud.securityGroupRule.SecurityGroupRule(this, "allow_all_tcp", {
      cidrIp: "0.0.0.0/0",
      ipProtocol: "tcp",
      nicType: "internet",
      policy: "accept",
      portRange: "1/65535",
      priority: 1,
      securityGroupId: cdktf.Token.asString(alicloudSecurityGroupDefault.id),
      type: "ingress",
    });
  }
}

```

## Module Support

You can use the existing [security-group module](https://registry.terraform.io/modules/alibaba/security-group/alicloud) 
to create a security group and add several rules one-click.

## Argument Reference

The following arguments are supported:

* `type` - (Required, ForceNew) The type of rule being created. Valid options are `ingress` (inbound) or `egress` (outbound).
* `ipProtocol` - (Required, ForceNew) The protocol. Can be `tcp`, `udp`, `icmp`, `gre` or `all`.
* `portRange` - (ForceNew) The range of port numbers relevant to the IP protocol. Default to "-1/-1". When the protocol is tcp or udp, each side port number range from 1 to 65535 and '-1/-1' will be invalid.
  For example, `1/200` means that the range of the port numbers is 1-200. Other protocols' 'port_range' can only be "-1/-1", and other values will be invalid.
* `securityGroupId` - (Required, ForceNew) The security group to apply this rule to.
* `nicType` - (Optional, ForceNew) Network type, can be either `internet` or `intranet`, the default value is `internet`.
* `policy` - (Optional, ForceNew) Authorization policy, can be either `accept` or `drop`, the default value is `accept`.
* `priority` - (Optional, ForceNew) Authorization policy priority, with parameter values: `1100`, default value: 1.
* `cidrIp` - (Optional, ForceNew) The target IP address range. The default value is 0.0.0.0/0 (which means no restriction will be applied). Other supported formats include 10.159.6.18/12. Only IPv4 is supported.
* `sourceSecurityGroupId` - (Optional, ForceNew) The target security group ID within the same region. If this field is specified, the `nicType` can only select `intranet`.
* `sourceGroupOwnerAccount` - (Optional, ForceNew) The Alibaba Cloud user account Id of the target security group when security groups are authorized across accounts.  This parameter is invalid if `cidrIp` has already been set.
* `description` - (Optional) The description of the security group rule. The description can be up to 1 to 512 characters in length. Defaults to null.
* `prefixListId`- (Optional, ForceNew) The ID of the source/destination prefix list to which you want to control access. **NOTE:** If you specify `cidrIp`,`sourceSecurityGroupId`,`ipv6CidrIp` parameter, this parameter is ignored.
* `ipv6CidrIp`- (Optional, ForceNew, Available in 1.174.0) Source IPv6 CIDR address block that requires access. Supports IP address ranges in CIDR format and IPv6 format. **NOTE:** This parameter cannot be set at the same time as the `cidrIp` parameter.

-> **NOTE:**  You must specify one of the following field: `cidrIp`,`sourceSecurityGroupId`,`prefixListId`,`ipv6CidrIp`. 

## Attributes Reference

The following attributes are exported:

* `id` - The ID of the security group rule
* `type` - The type of rule, `ingress` or `egress`
* `portRange` - The range of port numbers
* `ipProtocol` - The protocol of the security group rule

<!-- cache-key: cdktf-0.17.0-pre.15 input-ec32e8e05ea4a2f9ebaab2f5e7fdde523cdad39ddf9d17048a1cd80ec1762a05 -->