---
subcategory: "Service Mesh"
layout: "alicloud"
page_title: "Alicloud: alicloud_service_mesh_user_permission"
sidebar_current: "docs-alicloud-resource-service-mesh-user-permission"
description: |-
  Provides an Alicloud Service Mesh User Permission resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_service\_mesh\_user\_permission

Provides a Service Mesh UserPermission resource.

For information about Service Mesh User Permission and how to use it, see [What is User Permission](https://help.aliyun.com/document_detail/171622.html).

-> **NOTE:** Available in v1.174.0+.

## Example Usage

Basic Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    /*Terraform Variables are not always the best fit for getting inputs in the context of Terraform CDK.
    You can read more about this at https://cdk.tf/variables*/
    const name = new cdktf.TerraformVariable(this, "name", {
      default: "servicemesh",
    });
    const alicloudRamUserDefault = new alicloud.ramUser.RamUser(
      this,
      "default",
      {
        name: name.stringValue,
      }
    );
    const dataAlicloudServiceMeshVersionsDefault =
      new alicloud.dataAlicloudServiceMeshVersions.DataAlicloudServiceMeshVersions(
        this,
        "default_2",
        {
          edition: "Default",
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudServiceMeshVersionsDefault.overrideLogicalId("default");
    const dataAlicloudVpcsDefault =
      new alicloud.dataAlicloudVpcs.DataAlicloudVpcs(this, "default_3", {
        nameRegex: "default-NODELETING",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudVpcsDefault.overrideLogicalId("default");
    const dataAlicloudZonesDefault =
      new alicloud.dataAlicloudZones.DataAlicloudZones(this, "default_4", {
        availableResourceCreation: "VSwitch",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudZonesDefault.overrideLogicalId("default");
    const dataAlicloudVswitchesDefault =
      new alicloud.dataAlicloudVswitches.DataAlicloudVswitches(
        this,
        "default_5",
        {
          vpcId: cdktf.Token.asString(
            cdktf.propertyAccess(dataAlicloudVpcsDefault.ids, ["0"])
          ),
          zoneId: cdktf.Token.asString(
            cdktf.propertyAccess(dataAlicloudZonesDefault.zones, ["0", "id"])
          ),
        }
      );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudVswitchesDefault.overrideLogicalId("default");
    const alicloudServiceMeshServiceMeshDefault1 =
      new alicloud.serviceMeshServiceMesh.ServiceMeshServiceMesh(
        this,
        "default1",
        {
          clusterSpec: "standard",
          edition: "Default",
          loadBalancer: {
            apiServerPublicEip: false,
            pilotPublicEip: false,
          },
          network: {
            vpcId: cdktf.Token.asString(
              cdktf.propertyAccess(dataAlicloudVpcsDefault.ids, ["0"])
            ),
            vswitcheList: [
              cdktf.Token.asString(
                cdktf.propertyAccess(dataAlicloudVswitchesDefault.ids, ["0"])
              ),
            ],
          },
          serviceMeshName: name.stringValue,
          version: cdktf.Token.asString(
            cdktf.propertyAccess(
              dataAlicloudServiceMeshVersionsDefault.versions,
              ["0", "version"]
            )
          ),
        }
      );
    new alicloud.serviceMeshUserPermission.ServiceMeshUserPermission(
      this,
      "example",
      {
        permissions: [
          {
            isCustom: true,
            isRamRole: false,
            roleName: "istio-admin",
            roleType: "custom",
            serviceMeshId: cdktf.Token.asString(
              alicloudServiceMeshServiceMeshDefault1.id
            ),
          },
        ],
        subAccountUserId: cdktf.Token.asString(alicloudRamUserDefault.id),
      }
    );
  }
}

```

## Argument Reference

The following arguments are supported:

* `subAccountUserId` - (Required, ForceNew) The configuration of the Load Balancer. See the following `Block load_balancer`.
* `permissions` - (Optional) List of permissions. **Warning:** The list requires the full amount of permission information to be passed. Adding permissions means adding items to the list, and deleting them or inputting nothing means removing items. See the following `Block permissions`.


#### Block permissions

The permissions supports the following:

* `roleName` - (Optional) The permission name. Valid values: `istioAdmin`, `istioOps`, `istioReadonly`.
  - `istioAdmin`:  The administrator.
  - `istioOps`: The administrator of the service mesh resource.
  - `istioReadonly`: The read only permission.
* `serviceMeshId` - (Optional) The service mesh id.
* `roleType` - (Optional) The role type. Valid Value: `custom`.
* `isCustom` - (Optional) Whether the grant object is a RAM role.
* `isRamRole` - (Optional) Whether the grant object is an entity.


## Attributes Reference

The following attributes are exported:

* `id` - The resource ID in terraform of User Permission. The value is same as `subAccountUserId`.


### Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/docs/configuration-0-11/resources.html#timeouts) for certain actions:

* `create` - (Defaults to 15 mins) Used when create the Service Mesh User Permission.
* `update` - (Defaults to 15 mins) Used when update the Service Mesh User Permission.

## Import

Service Mesh User Permission can be imported using the id, e.g.

```shell
$ terraform import alicloud_service_mesh_user_permission.example <id>
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-e162ec0df66c66659455b004117c9ac95647fd9393d5879402152ff47405fa07 -->