---
subcategory: "Classic Load Balancer (SLB)"
layout: "alicloud"
page_title: "Alicloud: alicloud_slb_server_group"
sidebar_current: "docs-alicloud-resource-slb-server-group"
description: |-
  Provides a Load Banlancer Virtual Backend Server Group resource.
---


<!-- Please do not edit this file, it is generated. -->
# alicloud\_slb\_server\_group

A virtual server group contains several ECS instances. The virtual server group can help you to define multiple listening dimension,
and to meet the personalized requirements of domain name and URL forwarding.

-> **NOTE:** One ECS instance can be added into multiple virtual server groups.

-> **NOTE:** One virtual server group can be attached with multiple listeners in one load balancer.

-> **NOTE:** One Classic and Internet load balancer, its virtual server group can add Classic and VPC ECS instances.

-> **NOTE:** One Classic and Intranet load balancer, its virtual server group can only add Classic ECS instances.

-> **NOTE:** One VPC load balancer, its virtual server group can only add the same VPC ECS instances.

For information about server group and how to use it, see [Configure a server group](https://www.alibabacloud.com/help/en/doc-detail/35215.html).


## Example Usage

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as alicloud from "./.gen/providers/alicloud";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    /*Terraform Variables are not always the best fit for getting inputs in the context of Terraform CDK.
    You can read more about this at https://cdk.tf/variables*/
    const slbServerGroupName = new cdktf.TerraformVariable(
      this,
      "slb_server_group_name",
      {
        default: "forSlbServerGroup",
      }
    );
    const alicloudVpcServerGroup = new alicloud.vpc.Vpc(this, "server_group", {
      cidrBlock: "172.16.0.0/16",
      vpcName: slbServerGroupName.stringValue,
    });
    const dataAlicloudZonesServerGroup =
      new alicloud.dataAlicloudZones.DataAlicloudZones(this, "server_group_2", {
        availableResourceCreation: "VSwitch",
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    dataAlicloudZonesServerGroup.overrideLogicalId("server_group");
    const alicloudVswitchServerGroup = new alicloud.vswitch.Vswitch(
      this,
      "server_group_3",
      {
        cidrBlock: "172.16.0.0/16",
        vpcId: cdktf.Token.asString(alicloudVpcServerGroup.id),
        vswitchName: slbServerGroupName.stringValue,
        zoneId: cdktf.Token.asString(
          cdktf.propertyAccess(dataAlicloudZonesServerGroup.zones, ["0", "id"])
        ),
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudVswitchServerGroup.overrideLogicalId("server_group");
    const alicloudSlbLoadBalancerServerGroup =
      new alicloud.slbLoadBalancer.SlbLoadBalancer(this, "server_group_4", {
        instanceChargeType: "PayByCLCU",
        loadBalancerName: slbServerGroupName.stringValue,
        vswitchId: cdktf.Token.asString(alicloudVswitchServerGroup.id),
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudSlbLoadBalancerServerGroup.overrideLogicalId("server_group");
    const alicloudSlbServerGroupServerGroup =
      new alicloud.slbServerGroup.SlbServerGroup(this, "server_group_5", {
        loadBalancerId: cdktf.Token.asString(
          alicloudSlbLoadBalancerServerGroup.id
        ),
        name: slbServerGroupName.stringValue,
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    alicloudSlbServerGroupServerGroup.overrideLogicalId("server_group");
  }
}

```

## Argument Reference

The following arguments are supported:

* `loadBalancerId` - (Required, ForceNew) The Load Balancer ID which is used to launch a new virtual server group.
* `name` - (Optional) Name of the virtual server group. Our plugin provides a default name: "tf-server-group".
* `servers` - A list of ECS instances to be added. **NOTE:** Field 'servers' has been deprecated from provider version 1.163.0 and it will be removed in the future version. Please use the new resource 'alicloud_slb_server_group_server_attachment'. At most 20 ECS instances can be supported in one resource. It contains three sub-fields as `Block server` follows.
* `deleteProtectionValidation` - (Optional, Available in 1.63.0+) Checking DeleteProtection of SLB instance before deleting. If true, this resource will not be deleted when its SLB instance enabled DeleteProtection. Default to false.

## Block servers

The servers mapping supports the following:

* `serverIds` - (Required) A list backend server ID (ECS instance ID).
* `port` - (Required) The port used by the backend server. Valid value range: [1-65535].
* `weight` - (Optional) Weight of the backend server. Valid value range: [0-100]. Default to 100.
* `type` - (Optional, Available in 1.51.0+) Type of the backend server. Valid value ecs, eni. Default to eni.

## Attributes Reference

The following attributes are exported:

* `id` - The ID of the virtual server group.
* `loadBalancerId` - The Load Balancer ID which is used to launch a new virtual server group.
* `name` - The name of the virtual server group.
* `servers` - A list of ECS instances that have be added.

## Import

Load balancer backend server group can be imported using the id, e.g.

```shell
$ terraform import alicloud_slb_server_group.example abc123456
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-397263a4134d9ea3136e1e7e32c3cfa28db7f89a964cc32dc28d7ee466fdc081 -->